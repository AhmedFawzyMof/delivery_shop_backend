import{h as R}from"./Teleport-CinHI0iO.js";import{f as m,C as u,a3 as h,d as v,L as $,a4 as k,A as d,x as w,a5 as P}from"./index-CLLxbfcL.js";import{S as p}from"./createLucideIcon-DU_JVqMJ.js";import{d as T}from"./index-D3ggx7-k.js";function _(t){const i=R({dir:m("ltr")});return u(()=>t?.value||i.dir?.value||"ltr")}function E(){const t=m(),i=u(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:T(t));return{primitiveElement:t,currentElement:i}}const C="data-reka-collection-item";function z(t={}){const{key:i="",isProvider:x=!1}=t,f=`${i}CollectionProvider`;let e;if(x){const n=m(new Map);e={collectionRef:m(),itemMap:n},P(f,e)}else e=h(f);const A=(n=!1)=>{const o=e.collectionRef.value;if(!o)return[];const r=Array.from(o.querySelectorAll(`[${C}]`)),l=Array.from(e.itemMap.value.values()).sort((s,c)=>r.indexOf(s.ref)-r.indexOf(c.ref));return n?l:l.filter(s=>s.ref.dataset.disabled!=="")},M=v({name:"CollectionSlot",setup(n,{slots:o}){const{primitiveElement:r,currentElement:a}=E();return w(a,()=>{e.collectionRef.value=a.value}),()=>d(p,{ref:r},o)}}),y=v({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(n,{slots:o,attrs:r}){const{primitiveElement:a,currentElement:l}=E();return $(s=>{if(l.value){const c=k(l.value);e.itemMap.value.set(c,{ref:l.value,value:n.value}),s(()=>e.itemMap.value.delete(c))}}),()=>d(p,{...r,[C]:"",ref:a},o)}}),S=u(()=>Array.from(e.itemMap.value.values())),I=u(()=>e.itemMap.value.size);return{getItems:A,reactiveItems:S,itemMapSize:I,CollectionSlot:M,CollectionItem:y}}export{z as a,E as b,_ as u};
