import{d as M,f as m,h as B,e as $,a,b as n,w as l,u as e,y as x,o as p,k as s,F as N,l as V,c as D,t as u}from"./index-C5NPDLxV.js";import{_ as F}from"./Sidebar.vue_vue_type_script_setup_true_lang-Cqho2Uw0.js";import{_ as E,a as L,b,c as r,d as P,e as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-CE2ttbBm.js";import{_ as S,d as T,a as U,b as j,c as q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Bd8clJB1.js";import{_ as c}from"./createLucideIcon-CsQdoSwz.js";import"./house-D0NNoEeP.js";import"./truck-Cz75DKe_.js";import"./mail-C6QtsyoG.js";import"./useForwardPropsEmits-Dvl0W8HD.js";import"./DialogTitle-Rq1bJPJW.js";import"./index-DmxO9ILx.js";import"./Teleport-DG6z2lou.js";import"./x-CUtjdDId.js";const z={class:"flex h-screen bg-background"},A={class:"w-full flex flex-col p-6"},G={class:"border rounded"},H={class:"space-y-3"},I={class:"border p-3 rounded bg-muted whitespace-pre-wrap"},J={class:"text-sm text-muted-foreground"},nt=M({__name:"MessagesPage",setup(K){const v=m([]),_=m(!1),i=m({});async function g(){const d=await x.get("/contacts");v.value=await d.data.data}function w(d){i.value=d,_.value=!0}async function k(d){await x.delete(`/contacts/${d}`),g()}function C(){_.value=!1}return B(g),(d,t)=>(p(),$("div",z,[a(F),n("div",A,[t[13]||(t[13]=n("h1",{class:"text-2xl font-bold mb-4"},"رسائل التواصل",-1)),n("div",G,[a(e(E),null,{default:l(()=>[a(e(L),null,{default:l(()=>[a(e(b),{class:"bg-muted"},{default:l(()=>[a(e(r),null,{default:l(()=>[...t[1]||(t[1]=[s("رقم",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[2]||(t[2]=[s("الاسم",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[3]||(t[3]=[s("رقم الهاتف",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[4]||(t[4]=[s("الرسالة",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[5]||(t[5]=[s("تاريخ الإنشاء",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[6]||(t[6]=[s("الإجراءات",-1)])]),_:1})]),_:1})]),_:1}),a(e(P),null,{default:l(()=>[(p(!0),$(N,null,V(v.value,o=>(p(),D(e(b),{key:o.contact_id,class:"border-b"},{default:l(()=>[a(e(f),null,{default:l(()=>[s(u(o.contact_id),1)]),_:2},1024),a(e(f),null,{default:l(()=>[s(u(o.contact_name),1)]),_:2},1024),a(e(f),null,{default:l(()=>[s(u(o.contact_phone),1)]),_:2},1024),a(e(f),{class:"truncate max-w-[200px]"},{default:l(()=>[s(u(o.contact_message),1)]),_:2},1024),a(e(f),null,{default:l(()=>[s(u(o.created_at),1)]),_:2},1024),a(e(f),{class:"flex gap-3"},{default:l(()=>[a(c,{variant:"default",onClick:y=>w(o)},{default:l(()=>[...t[7]||(t[7]=[s(" عرض ",-1)])]),_:1},8,["onClick"]),a(c,{variant:"destructive",onClick:y=>k(o.contact_id)},{default:l(()=>[...t[8]||(t[8]=[s(" حذف ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a(e(S),{open:_.value,"onUpdate:open":t[0]||(t[0]=o=>_.value=o)},{default:l(()=>[a(e(T),{class:"max-w-md"},{default:l(()=>[a(e(U),null,{default:l(()=>[a(e(j),null,{default:l(()=>[s(" رسالة من: "+u(i.value.contact_name),1)]),_:1})]),_:1}),n("div",H,[n("p",null,[t[9]||(t[9]=n("strong",null,"رقم الهاتف:",-1)),s(" "+u(i.value.contact_phone),1)]),t[11]||(t[11]=n("p",null,[n("strong",null,"الرسالة:")],-1)),n("p",I,u(i.value.contact_message),1),n("p",J,[t[10]||(t[10]=n("strong",null,"تاريخ الإنشاء:",-1)),s(" "+u(i.value.created_at),1)])]),a(e(q),null,{default:l(()=>[a(c,{variant:"secondary",onClick:C},{default:l(()=>[...t[12]||(t[12]=[s("إغلاق",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]))}});export{nt as default};
