import{d as x,r,Q as _,o as w,g as k,c as m,a as e,b as v,e as u,q as M,m as j,B as y,C,R as S,k as V,l as B,t as h,w as D,f as p,i as E,v as L}from"./index-DjU-SR4D.js";import{c as b,_ as N}from"./createLucideIcon-CpkhF4YH.js";import{E as T}from"./eye-DZXuA3u6.js";const A=b("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const I=b("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),P={class:"min-h-screen from-background to-muted flex items-center justify-center p-4",dir:"rtl"},R={class:"w-full max-w-md space-y-8"},U={class:"text-center space-y-2"},$={class:"flex justify-center"},q={class:"w-14 h-14 rounded-xl bg-primary/20 flex items-center justify-center"},H={class:"w-10 h-10 rounded-lg bg-primary flex items-center justify-center"},O={class:"space-y-2"},Q=["disabled"],z={class:"space-y-2"},F={class:"relative"},G=["type","disabled"],J=["disabled"],K={key:0,class:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg"},W={class:"text-sm text-red-600"},te=x({__name:"LoginPage",setup(X){const f=k(),d=r(""),n=r(""),l=r(!1),a=r(""),s=r(!1),c=_(),g=async()=>{a.value="",s.value=!0;try{if(d.value&&n.value){const o=await L.post("/auth/admin/login",{identifier:d.value,password:n.value});o.data.sessionToken&&o.status===200&&(await c.login(o.data.sessionToken,o.data.user),f.push("/management/dashboard"))}else a.value="بريد إلكتروني أو كلمة مرور غير صالحة"}catch{a.value="حدث خطأ. الرجاء المحاولة مرة أخرى"}finally{s.value=!1}};return w(async()=>{await c.init(),c.isAuthenticated&&f.push("/management/dashboard")}),(o,t)=>(p(),m("div",P,[e("div",R,[e("div",U,[e("div",$,[e("div",q,[e("div",H,[v(u(I),{class:"w-6 h-6 text-primary-foreground"})])])]),t[3]||(t[3]=e("h1",{class:"text-3xl font-bold text-foreground"},"Delivery Shop",-1)),t[4]||(t[4]=e("p",{class:"text-muted-foreground"},"لوحة تحكم المشرف",-1))]),e("form",{onSubmit:M(g,["prevent"]),class:"space-y-4"},[e("div",O,[t[5]||(t[5]=e("label",{for:"phone",class:"text-sm font-medium text-foreground"},"البريد الإلكتروني",-1)),y(e("input",{id:"phone",type:"tel",placeholder:"01212158465","onUpdate:modelValue":t[0]||(t[0]=i=>d.value=i),disabled:s.value,class:"w-full px-4 py-2.5 bg-card border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition text-right"},null,8,Q),[[C,d.value]])]),e("div",z,[t[6]||(t[6]=e("label",{for:"password",class:"text-sm font-medium text-foreground"},"كلمة المرور",-1)),e("div",F,[y(e("input",{id:"password",type:l.value?"text":"password",placeholder:"أدخل كلمة المرور الخاصة بك","onUpdate:modelValue":t[1]||(t[1]=i=>n.value=i),disabled:s.value,class:"w-full px-4 py-2.5 bg-card border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition text-right"},null,8,G),[[S,n.value]]),e("button",{type:"button",onClick:t[2]||(t[2]=i=>l.value=!l.value),class:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition",disabled:s.value},[(p(),V(B(l.value?u(A):u(T)),{class:"w-4 h-4"}))],8,J)])]),a.value?(p(),m("div",K,[e("p",W,h(a.value),1)])):j("",!0),v(u(N),{type:"submit",class:"w-full py-2.5 font-medium",disabled:s.value},{default:D(()=>[E(h(s.value?"جارٍ تسجيل الدخول...":"تسجيل الدخول"),1)]),_:1},8,["disabled"])],32)])]))}});export{te as default};
