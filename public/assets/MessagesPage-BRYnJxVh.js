import{d as B,r as m,o as N,c as g,b as a,a as o,w as l,e,F as x,x as b,f as p,i as n,j as V,k as D,t as u}from"./index-TZd6v5Hm.js";import{_ as F}from"./Sidebar.vue_vue_type_script_setup_true_lang-Ckioauwz.js";import{_ as j,a as E,b as w,c as r,d as L,e as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-DLlrgTms.js";import{_ as P,d as S,a as T,b as U,c as q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DSSqtd07.js";import{_ as c}from"./index-CQf1Xhsn.js";import"./x-Dv3lmHrD.js";import"./index-D4VFAAJq.js";import"./PopperContent--wvMB_Ff.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-g-Y2GW1p.js";const z={class:"m-4 border rounded"},A={class:"space-y-3"},G={class:"border p-3 rounded bg-muted whitespace-pre-wrap"},H={class:"text-sm text-muted-foreground"},h=B({__name:"MessagesPage",setup(I){const v=m([]),_=m(!1),i=m({});async function $(){const d=await b.get("/contacts");v.value=await d.data.data}function k(d){i.value=d,_.value=!0}async function C(d){await b.delete(`/contacts/${d}`),$()}function y(){_.value=!1}return N($),(d,t)=>(p(),g(x,null,[a(F),t[13]||(t[13]=o("h1",{dir:"rtl",class:"p-4 text-2xl font-bold mb-4"},"رسائل التواصل",-1)),o("div",z,[a(e(j),null,{default:l(()=>[a(e(E),null,{default:l(()=>[a(e(w),{class:"bg-muted"},{default:l(()=>[a(e(r),null,{default:l(()=>[...t[1]||(t[1]=[n("رقم",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[2]||(t[2]=[n("الاسم",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[3]||(t[3]=[n("رقم الهاتف",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[4]||(t[4]=[n("الرسالة",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[5]||(t[5]=[n("تاريخ الإنشاء",-1)])]),_:1}),a(e(r),null,{default:l(()=>[...t[6]||(t[6]=[n("الإجراءات",-1)])]),_:1})]),_:1})]),_:1}),a(e(L),null,{default:l(()=>[(p(!0),g(x,null,V(v.value,s=>(p(),D(e(w),{key:s.contact_id,class:"border-b"},{default:l(()=>[a(e(f),null,{default:l(()=>[n(u(s.contact_id),1)]),_:2},1024),a(e(f),null,{default:l(()=>[n(u(s.contact_name),1)]),_:2},1024),a(e(f),null,{default:l(()=>[n(u(s.contact_phone),1)]),_:2},1024),a(e(f),{class:"truncate max-w-[200px]"},{default:l(()=>[n(u(s.contact_message),1)]),_:2},1024),a(e(f),null,{default:l(()=>[n(u(s.created_at),1)]),_:2},1024),a(e(f),{class:"flex gap-3"},{default:l(()=>[a(c,{variant:"default",onClick:M=>k(s)},{default:l(()=>[...t[7]||(t[7]=[n(" عرض ",-1)])]),_:1},8,["onClick"]),a(c,{variant:"destructive",onClick:M=>C(s.contact_id)},{default:l(()=>[...t[8]||(t[8]=[n(" حذف ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a(e(P),{open:_.value,"onUpdate:open":t[0]||(t[0]=s=>_.value=s)},{default:l(()=>[a(e(S),{class:"max-w-md"},{default:l(()=>[a(e(T),null,{default:l(()=>[a(e(U),null,{default:l(()=>[n(" رسالة من: "+u(i.value.contact_name),1)]),_:1})]),_:1}),o("div",A,[o("p",null,[t[9]||(t[9]=o("strong",null,"رقم الهاتف:",-1)),n(" "+u(i.value.contact_phone),1)]),t[11]||(t[11]=o("p",null,[o("strong",null,"الرسالة:")],-1)),o("p",G,u(i.value.contact_message),1),o("p",H,[t[10]||(t[10]=o("strong",null,"تاريخ الإنشاء:",-1)),n(" "+u(i.value.created_at),1)])]),a(e(q),null,{default:l(()=>[a(c,{variant:"secondary",onClick:y},{default:l(()=>[...t[12]||(t[12]=[n("إغلاق",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}});export{h as default};
