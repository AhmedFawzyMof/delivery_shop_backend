import{d as M,r as m,o as B,c as $,b as a,a as n,w as l,e,v as x,f as c,i as s,F as N,j as V,k as D,t as u}from"./index-DjU-SR4D.js";import{_ as F}from"./Sidebar.vue_vue_type_script_setup_true_lang-sgM1v4lD.js";import{_ as j,a as E,b,c as f,d as L,e as r}from"./TableHeader.vue_vue_type_script_setup_true_lang-BaGKKXOv.js";import{_ as P,d as S,a as T,b as U,c as q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-EkRkIsRG.js";import{_ as p}from"./createLucideIcon-CpkhF4YH.js";import"./x-CN-yFgvQ.js";import"./index-OT-Qnd2y.js";import"./Teleport-B12evmlH.js";import"./truck-CcAql6eW.js";import"./SheetTrigger.vue_vue_type_script_setup_true_lang-czE_r7b2.js";const z={class:"flex h-screen bg-background"},A={class:"w-full flex flex-col p-6"},G={class:"border rounded"},H={class:"space-y-3"},I={class:"border p-3 rounded bg-muted whitespace-pre-wrap"},J={class:"text-sm text-muted-foreground"},lt=M({__name:"MessagesPage",setup(K){const v=m([]),_=m(!1),i=m({});async function g(){const d=await x.get("/contacts");v.value=await d.data.data}function w(d){i.value=d,_.value=!0}async function k(d){await x.delete(`/contacts/${d}`),g()}function C(){_.value=!1}return B(g),(d,t)=>(c(),$("div",z,[a(F),n("div",A,[t[13]||(t[13]=n("h1",{class:"text-2xl font-bold mb-4"},"رسائل التواصل",-1)),n("div",G,[a(e(j),null,{default:l(()=>[a(e(E),null,{default:l(()=>[a(e(b),{class:"bg-muted"},{default:l(()=>[a(e(f),null,{default:l(()=>[...t[1]||(t[1]=[s("رقم",-1)])]),_:1}),a(e(f),null,{default:l(()=>[...t[2]||(t[2]=[s("الاسم",-1)])]),_:1}),a(e(f),null,{default:l(()=>[...t[3]||(t[3]=[s("رقم الهاتف",-1)])]),_:1}),a(e(f),null,{default:l(()=>[...t[4]||(t[4]=[s("الرسالة",-1)])]),_:1}),a(e(f),null,{default:l(()=>[...t[5]||(t[5]=[s("تاريخ الإنشاء",-1)])]),_:1}),a(e(f),null,{default:l(()=>[...t[6]||(t[6]=[s("الإجراءات",-1)])]),_:1})]),_:1})]),_:1}),a(e(L),null,{default:l(()=>[(c(!0),$(N,null,V(v.value,o=>(c(),D(e(b),{key:o.contact_id,class:"border-b"},{default:l(()=>[a(e(r),null,{default:l(()=>[s(u(o.contact_id),1)]),_:2},1024),a(e(r),null,{default:l(()=>[s(u(o.contact_name),1)]),_:2},1024),a(e(r),null,{default:l(()=>[s(u(o.contact_phone),1)]),_:2},1024),a(e(r),{class:"truncate max-w-[200px]"},{default:l(()=>[s(u(o.contact_message),1)]),_:2},1024),a(e(r),null,{default:l(()=>[s(u(o.created_at),1)]),_:2},1024),a(e(r),{class:"flex gap-3"},{default:l(()=>[a(p,{variant:"default",onClick:y=>w(o)},{default:l(()=>[...t[7]||(t[7]=[s(" عرض ",-1)])]),_:1},8,["onClick"]),a(p,{variant:"destructive",onClick:y=>k(o.contact_id)},{default:l(()=>[...t[8]||(t[8]=[s(" حذف ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a(e(P),{open:_.value,"onUpdate:open":t[0]||(t[0]=o=>_.value=o)},{default:l(()=>[a(e(S),{class:"max-w-md"},{default:l(()=>[a(e(T),null,{default:l(()=>[a(e(U),null,{default:l(()=>[s(" رسالة من: "+u(i.value.contact_name),1)]),_:1})]),_:1}),n("div",H,[n("p",null,[t[9]||(t[9]=n("strong",null,"رقم الهاتف:",-1)),s(" "+u(i.value.contact_phone),1)]),t[11]||(t[11]=n("p",null,[n("strong",null,"الرسالة:")],-1)),n("p",I,u(i.value.contact_message),1),n("p",J,[t[10]||(t[10]=n("strong",null,"تاريخ الإنشاء:",-1)),s(" "+u(i.value.created_at),1)])]),a(e(q),null,{default:l(()=>[a(p,{variant:"secondary",onClick:C},{default:l(()=>[...t[12]||(t[12]=[s("إغلاق",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]))}});export{lt as default};
