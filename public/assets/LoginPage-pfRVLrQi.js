import{d as x,r,u as V,o as b,g as h,c as _,b as s,w as t,e as a,f as l,i as n,a as i,m as $,k,t as B,q as L,s as N}from"./index-TZd6v5Hm.js";import{_ as q}from"./index-CQf1Xhsn.js";import{_ as C,a as S,b as A,c as M}from"./CardTitle.vue_vue_type_script_setup_true_lang--LHH3i02.js";import{_ as U}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bq6xeI4W.js";import{_ as v}from"./Input.vue_vue_type_script_setup_true_lang-Bj6C5Fsj.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-Bql-k3-N.js";import{L as j}from"./loader-DHQJhs53.js";import"./index-DSgkQ9qN.js";import"./index-D4VFAAJq.js";const D={dir:"rtl",class:"flex min-h-screen items-center justify-center bg-muted p-4"},E={class:"grid gap-2"},P={class:"grid gap-2"},R={class:"flex items-center"},T={key:1},z={key:0,class:"text-red-500 mt-2"},Y=x({__name:"LoginPage",setup(F){const d=r(""),u=r(""),o=r(!1),p=r(""),m=V(),c=h();b(async()=>{await m.init(),m.isAuthenticated&&c.push("/restaurant/dashboard")});async function y(){o.value=!0;try{await m.login(d.value,u.value),c.push("/restaurant/dashboard")}catch{N.error("فشل في تسجيل الدخول")}finally{o.value=!1}}return(w,e)=>(l(),_("main",D,[s(a(C),{class:"w-86"},{default:t(()=>[s(a(S),null,{default:t(()=>[s(a(A),{class:"text-2xl"},{default:t(()=>[...e[2]||(e[2]=[n(" تسجيل الدخول ",-1)])]),_:1}),s(a(U),null,{default:t(()=>[...e[3]||(e[3]=[n(" أدخل اسم المطعمك أدناه لتسجيل الدخول إلى حسابك ",-1)])]),_:1})]),_:1}),s(a(M),null,{default:t(()=>[i("form",{class:"grid gap-4",onSubmit:L(y,["prevent"])},[i("div",E,[s(a(g),{for:"name"},{default:t(()=>[...e[4]||(e[4]=[n("اسم المطعم",-1)])]),_:1}),s(a(v),{id:"name",type:"text",placeholder:"اسم المطعم",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=f=>d.value=f),required:""},null,8,["modelValue"])]),i("div",P,[i("div",R,[s(a(g),{for:"password"},{default:t(()=>[...e[5]||(e[5]=[n("كلمة المرور",-1)])]),_:1})]),s(a(v),{id:"password",type:"password",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=f=>u.value=f),required:""},null,8,["modelValue"])]),s(a(q),{type:"submit",class:"w-full",disabled:o.value},{default:t(()=>[o.value?(l(),k(a(j),{key:0,class:"animate-spin"})):(l(),_("span",T,"تسجيل الدخول"))]),_:1},8,["disabled"]),p.value?(l(),_("p",z,B(p.value),1)):$("",!0)],32)]),_:1})]),_:1})]))}});export{Y as default};
