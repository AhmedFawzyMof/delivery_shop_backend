import{d as q,B as k,h as U,O as X,c as g,o as b,w as s,a as r,u as e,r as R,P as J,x as Q,m as $,e as A,q as N,F as P,l as D,X as Y,v as Z,p as ee,G as ae,H as te,f as I,b as w,y as S,k as v,t as h,n as le}from"./index-BSPTMR8O.js";import{_ as ne}from"./Sidebar.vue_vue_type_script_setup_true_lang-B7cTFClJ.js";import{_ as ue,d as re,a as se,b as oe,c as ie}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CfBnieEL.js";import{_ as E}from"./Input.vue_vue_type_script_setup_true_lang-CSnJOHZl.js";import{P as T,a as de,_ as x}from"./createLucideIcon-Dta9RRmE.js";import{c as G,u as fe}from"./useForwardPropsEmits-rrh1oZQc.js";import{i as K,a as M,V as pe,u as me,C as ve}from"./check-C_M5pHVO.js";import{u as z,b as ce,r as _e}from"./index-CHQRRB69.js";import{u as ye,P as be}from"./Teleport-BjEbxNdZ.js";import{a as ge,b as ke}from"./Collection-B4SfnCTS.js";import{i as he,g as Ve,w as Ce,f as qe}from"./RovingFocusGroup-K2atAXXa.js";import{_ as we,a as $e,b as j,c as V,d as xe,e as C}from"./TableHeader.vue_vue_type_script_setup_true_lang-C4Z15qe_.js";import"./house-Dh64-F_7.js";import"./truck-BiNefK1-.js";import"./mail-dOw1NsDk.js";import"./DialogTitle-DBJpr5Os.js";import"./x-CmorvOCr.js";function H(d,t){return K(d)?!1:Array.isArray(d)?d.some(l=>M(l,t)):M(d,t)}var Be=q({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(d){const t=d,l=he(),f=ye(),u=k(()=>t.tabStopId||f),p=k(()=>l.currentTabStopId.value===u.value),{getItems:i,CollectionItem:_}=ge();U(()=>{t.focusable&&l.onFocusableItemAdd()}),X(()=>{t.focusable&&l.onFocusableItemRemove()});function y(o){if(o.key==="Tab"&&o.shiftKey){l.onItemShiftTab();return}if(o.target!==o.currentTarget)return;const c=Ve(o,l.orientation.value,l.dir.value);if(c!==void 0){if(o.metaKey||o.ctrlKey||o.altKey||!t.allowShiftKey&&o.shiftKey)return;o.preventDefault();let m=[...i().map(a=>a.ref).filter(a=>a.dataset.disabled!=="")];if(c==="last")m.reverse();else if(c==="prev"||c==="next"){c==="prev"&&m.reverse();const a=m.indexOf(o.currentTarget);m=l.loop.value?Ce(m,a+1):m.slice(a+1)}J(()=>qe(m))}}return(o,c)=>(b(),g(e(_),null,{default:s(()=>[r(e(T),{tabindex:p.value?0:-1,"data-orientation":e(l).orientation.value,"data-active":o.active?"":void 0,"data-disabled":o.focusable?void 0:"",as:o.as,"as-child":o.asChild,onMousedown:c[0]||(c[0]=m=>{o.focusable?e(l).onItemFocus(u.value):m.preventDefault()}),onFocus:c[1]||(c[1]=m=>e(l).onItemFocus(u.value)),onKeydown:y},{default:s(()=>[R(o.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),Ie=Be,Se=q({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(d){const t=d,{primitiveElement:l,currentElement:f}=ke(),u=k(()=>t.checked??t.value);return Q(u,(p,i)=>{if(!f.value)return;const _=f.value,y=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(y,"value").set;if(c&&p!==i){const m=new Event("input",{bubbles:!0}),a=new Event("change",{bubbles:!0});c.call(_,p),_.dispatchEvent(m),_.dispatchEvent(a)}}),(p,i)=>(b(),g(pe,$({ref_key:"primitiveElement",ref:l},{...t,...p.$attrs},{as:"input"}),null,16))}}),O=Se,Ee=q({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(d){const t=d,l=k(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),f=k(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"||t.value===null||t.value===void 0?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((u,p)=>typeof u=="object"?Object.entries(u).map(([i,_])=>({name:`${t.name}[${p}][${i}]`,value:_})):{name:`${t.name}[${p}]`,value:u}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([u,p])=>({name:`${t.name}[${u}]`,value:p})):[]);return(u,p)=>(b(),A(P,null,[N(" We render single input if it's required "),l.value?(b(),g(O,$({key:u.name},{...t,...u.$attrs},{name:u.name,value:u.value}),null,16,["name","value"])):(b(!0),A(P,{key:1},D(f.value,i=>(b(),g(O,$({key:i.name},{ref_for:!0},{...t,...u.$attrs},{name:i.name,value:i.value}),null,16,["name","value"]))),128))],2112))}}),Ae=Ee;const[Fe]=G("CheckboxGroupRoot");function F(d){return d==="indeterminate"}function L(d){return F(d)?"indeterminate":d?"checked":"unchecked"}const[Re,Pe]=G("CheckboxRoot");var Ke=q({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(d,{emit:t}){const l=d,f=t,{forwardRef:u,currentElement:p}=z(),i=Fe(null),_=ce(l,"modelValue",f,{defaultValue:l.defaultValue,passive:l.modelValue===void 0}),y=k(()=>i?.disabled.value||l.disabled),o=k(()=>K(i?.modelValue.value)?_.value==="indeterminate"?"indeterminate":_.value:H(i.modelValue.value,l.value));function c(){if(K(i?.modelValue.value))_.value=F(_.value)?!0:!_.value;else{const n=[...i.modelValue.value||[]];if(H(n,l.value)){const B=n.findIndex(W=>M(W,l.value));n.splice(B,1)}else n.push(l.value);i.modelValue.value=n}}const m=me(p),a=k(()=>l.id&&p.value?document.querySelector(`[for="${l.id}"]`)?.innerText:void 0);return Pe({disabled:y,state:o}),(n,B)=>(b(),g(ee(e(i)?.rovingFocus.value?e(Ie):e(T)),$(n.$attrs,{id:n.id,ref:e(u),role:"checkbox","as-child":n.asChild,as:n.as,type:n.as==="button"?"button":void 0,"aria-checked":e(F)(o.value)?"mixed":o.value,"aria-required":n.required,"aria-label":n.$attrs["aria-label"]||a.value,"data-state":e(L)(o.value),"data-disabled":y.value?"":void 0,disabled:y.value,focusable:e(i)?.rovingFocus.value?!y.value:void 0,onKeydown:Y(Z(()=>{},["prevent"]),["enter"]),onClick:c}),{default:s(()=>[R(n.$slots,"default",{modelValue:e(_),state:o.value}),e(m)&&n.name&&!e(i)?(b(),g(e(Ae),{key:0,type:"checkbox",checked:!!o.value,name:n.name,value:n.value,disabled:y.value,required:n.required},null,8,["checked","name","value","disabled","required"])):N("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),Me=Ke,Te=q({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(d){const{forwardRef:t}=z(),l=Re();return(f,u)=>(b(),g(e(be),{present:f.forceMount||e(F)(e(l).state.value)||e(l).state.value===!0},{default:s(()=>[r(e(T),$({ref:e(t),"data-state":e(L)(e(l).state.value),"data-disabled":e(l).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":f.asChild,as:f.as},f.$attrs),{default:s(()=>[R(f.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),je=Te;const He=q({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(d,{emit:t}){const l=d,f=t,u=_e(l,"class"),p=fe(u,f);return(i,_)=>(b(),g(e(Me),$({"data-slot":"checkbox"},e(p),{class:e(de)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",l.class)}),{default:s(y=>[r(e(je),{"data-slot":"checkbox-indicator",class:"grid place-content-center text-current transition-none"},{default:s(()=>[R(i.$slots,"default",ae(te(y)),()=>[r(e(ve),{class:"size-3.5"})])]),_:2},1024)]),_:3},16,["class"]))}}),Oe={class:"flex h-screen bg-background"},Ue={class:"w-full flex flex-col p-6"},Ne={class:"overflow-auto rounded border"},De={class:"flex flex-col gap-4 mt-4"},Ge={class:"flex items-center gap-2"},ia=q({__name:"EmployeesPage",setup(d){const t=I([]),l=I(!1),f=I(!1),u=I({admin_id:null,admin_name:"",admin_email:"",admin_phone:"",password:"",is_active:!0});async function p(){const m=await S.get("/admins");t.value=await m.data}function i(){f.value=!1,u.value={admin_id:null,admin_name:"",admin_email:"",admin_phone:"",password:"",is_active:!0},l.value=!0}function _(m){f.value=!0,u.value={...m},l.value=!0}async function y(){f.value?await S.put(`/admins/${u.value.admin_id}`,{...u.value}):await S.post("/admins",{...u.value}),c(),p()}async function o(m){await S.delete(`/admins/${m}`),p()}function c(){l.value=!1}return U(p),(m,a)=>(b(),A("div",Oe,[r(ne),w("div",Ue,[a[19]||(a[19]=w("h1",{class:"text-2xl font-bold mb-4"},"المديرين",-1)),r(e(x),{class:"mb-4",onClick:i},{default:s(()=>[...a[6]||(a[6]=[v("إضافة مدير",-1)])]),_:1}),w("div",Ne,[r(e(we),{class:"w-full text-left"},{default:s(()=>[r(e($e),null,{default:s(()=>[r(e(j),null,{default:s(()=>[r(e(V),null,{default:s(()=>[...a[7]||(a[7]=[v("رقم",-1)])]),_:1}),r(e(V),null,{default:s(()=>[...a[8]||(a[8]=[v("الاسم",-1)])]),_:1}),r(e(V),null,{default:s(()=>[...a[9]||(a[9]=[v("البريد الإلكتروني",-1)])]),_:1}),r(e(V),null,{default:s(()=>[...a[10]||(a[10]=[v("رقم الهاتف",-1)])]),_:1}),r(e(V),null,{default:s(()=>[...a[11]||(a[11]=[v("الحالة",-1)])]),_:1}),r(e(V),null,{default:s(()=>[...a[12]||(a[12]=[v("تاريخ الإنشاء",-1)])]),_:1}),r(e(V),null,{default:s(()=>[...a[13]||(a[13]=[v("الإجراءات",-1)])]),_:1})]),_:1})]),_:1}),r(e(xe),null,{default:s(()=>[(b(!0),A(P,null,D(t.value,n=>(b(),g(e(j),{key:n.admin_id},{default:s(()=>[r(e(C),null,{default:s(()=>[v(h(n.admin_id),1)]),_:2},1024),r(e(C),null,{default:s(()=>[v(h(n.admin_name),1)]),_:2},1024),r(e(C),null,{default:s(()=>[v(h(n.admin_email),1)]),_:2},1024),r(e(C),null,{default:s(()=>[v(h(n.admin_phone),1)]),_:2},1024),r(e(C),null,{default:s(()=>[w("span",{class:le(["px-2 py-1 rounded text-white",n.is_active?"bg-green-600":"bg-red-600"])},h(n.is_active?"نشط":"غير نشط"),3)]),_:2},1024),r(e(C),null,{default:s(()=>[v(h(n.created_at),1)]),_:2},1024),r(e(C),{class:"flex gap-2"},{default:s(()=>[r(e(x),{variant:"secondary",onClick:B=>_(n)},{default:s(()=>[...a[14]||(a[14]=[v(" تعديل ",-1)])]),_:1},8,["onClick"]),r(e(x),{variant:"destructive",onClick:B=>o(n.admin_id)},{default:s(()=>[...a[15]||(a[15]=[v(" حذف ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),r(e(ue),{open:l.value,"onUpdate:open":a[5]||(a[5]=n=>l.value=n)},{default:s(()=>[r(e(re),null,{default:s(()=>[r(e(se),null,{default:s(()=>[r(e(oe),null,{default:s(()=>[v(h(f.value?"تعديل مدير":"إنشاء مدير"),1)]),_:1})]),_:1}),w("div",De,[r(e(E),{modelValue:u.value.admin_name,"onUpdate:modelValue":a[0]||(a[0]=n=>u.value.admin_name=n),placeholder:"الاسم"},null,8,["modelValue"]),r(e(E),{modelValue:u.value.admin_email,"onUpdate:modelValue":a[1]||(a[1]=n=>u.value.admin_email=n),placeholder:"البريد الإلكتروني"},null,8,["modelValue"]),r(e(E),{modelValue:u.value.admin_phone,"onUpdate:modelValue":a[2]||(a[2]=n=>u.value.admin_phone=n),placeholder:"رقم الهاتف"},null,8,["modelValue"]),r(e(E),{modelValue:u.value.password,"onUpdate:modelValue":a[3]||(a[3]=n=>u.value.password=n),placeholder:"كلمة المرور"},null,8,["modelValue"]),w("label",Ge,[r(e(He),{modelValue:u.value.is_active,"onUpdate:modelValue":a[4]||(a[4]=n=>u.value.is_active=n)},null,8,["modelValue"]),a[16]||(a[16]=v(" نشط ",-1))])]),r(e(ie),{class:"mt-6 flex justify-end gap-3"},{default:s(()=>[r(e(x),{variant:"outline",onClick:c},{default:s(()=>[...a[17]||(a[17]=[v("إلغاء",-1)])]),_:1}),r(e(x),{onClick:y},{default:s(()=>[...a[18]||(a[18]=[v("حفظ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]))}});export{ia as default};
