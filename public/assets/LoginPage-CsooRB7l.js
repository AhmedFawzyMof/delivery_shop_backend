import{d as x,f as r,Q as _,h as w,i as k,e as m,b as e,a as v,u,v as M,q as j,x as y,y as C,R as V,c as S,p as B,t as b,w as D,o as c,k as E}from"./index-QeOVJFhL.js";import{c as h,_ as L}from"./createLucideIcon-5fTLmU3v.js";import{E as N}from"./eye-BuoFPCD7.js";/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=h("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=h("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),P={class:"min-h-screen bg-gradient-to-br from-background to-muted flex items-center justify-center p-4",dir:"rtl"},R={class:"w-full max-w-md space-y-8"},U={class:"text-center space-y-2"},$={class:"flex justify-center"},q={class:"w-14 h-14 rounded-xl bg-primary/20 flex items-center justify-center"},A={class:"w-10 h-10 rounded-lg bg-primary flex items-center justify-center"},H={class:"space-y-2"},O=["disabled"],Q={class:"space-y-2"},z={class:"relative"},F=["type","disabled"],G=["disabled"],J={key:0,class:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg"},K={class:"text-sm text-red-600"},ee=x({__name:"LoginPage",setup(W){const p=k(),d=r(""),n=r(""),l=r(!1),a=r(""),o=r(!1),f=_(),g=async()=>{a.value="",o.value=!0;try{if(d.value&&n.value){const s=await f.login(d.value,n.value);s.status===200&&s.data.sessionToken&&p.push("/management/dashboard")}else a.value="بريد إلكتروني أو كلمة مرور غير صالحة"}catch{a.value="حدث خطأ. الرجاء المحاولة مرة أخرى"}finally{o.value=!1}};return w(async()=>{const s=await f.init();s&&s.data.user&&s.data.user.role==="admin"&&p.push("/management/dashboard")}),(s,t)=>(c(),m("div",P,[e("div",R,[e("div",U,[e("div",$,[e("div",q,[e("div",A,[v(u(I),{class:"w-6 h-6 text-primary-foreground"})])])]),t[3]||(t[3]=e("h1",{class:"text-3xl font-bold text-foreground"},"متجر التوصيل",-1)),t[4]||(t[4]=e("p",{class:"text-muted-foreground"},"لوحة تحكم المشرف",-1))]),e("form",{onSubmit:M(g,["prevent"]),class:"space-y-4"},[e("div",H,[t[5]||(t[5]=e("label",{for:"phone",class:"text-sm font-medium text-foreground"}," البريد الإلكتروني ",-1)),y(e("input",{id:"phone",type:"tel",placeholder:"admin@dashboard.com","onUpdate:modelValue":t[0]||(t[0]=i=>d.value=i),disabled:o.value,class:"w-full px-4 py-2.5 bg-card border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition text-right"},null,8,O),[[C,d.value]])]),e("div",Q,[t[6]||(t[6]=e("label",{for:"password",class:"text-sm font-medium text-foreground"},"كلمة المرور",-1)),e("div",z,[y(e("input",{id:"password",type:l.value?"text":"password",placeholder:"أدخل كلمة المرور الخاصة بك","onUpdate:modelValue":t[1]||(t[1]=i=>n.value=i),disabled:o.value,class:"w-full px-4 py-2.5 bg-card border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition text-right"},null,8,F),[[V,n.value]]),e("button",{type:"button",onClick:t[2]||(t[2]=i=>l.value=!l.value),class:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition",disabled:o.value},[(c(),S(B(l.value?u(T):u(N)),{class:"w-4 h-4"}))],8,G)])]),a.value?(c(),m("div",J,[e("p",K,b(a.value),1)])):j("",!0),v(u(L),{type:"submit",class:"w-full py-2.5 font-medium",disabled:o.value},{default:D(()=>[E(b(o.value?"جارٍ تسجيل الدخول...":"تسجيل الدخول"),1)]),_:1},8,["disabled"])],32)])]))}});export{ee as default};
