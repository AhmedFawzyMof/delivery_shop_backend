import{d as x,f as r,g as V,h as b,e as _,a as s,w as t,u as a,o as n,j as i,b as d,p as h,c as $,t as k,s as L}from"./index-d-g9mRbR.js";import{u as B,_ as N}from"./auth-BOWgCVVb.js";import{_ as C,a as S,b as j,c as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-B_Ekwe2Y.js";import{_ as A}from"./CardDescription.vue_vue_type_script_setup_true_lang-BzARtVmM.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-DEP3HyZt.js";import{_ as y}from"./Label.vue_vue_type_script_setup_true_lang-DjM-uG6V.js";import{L as M}from"./loader-Bt2XS28I.js";import"./index-DYTBgUmH.js";const U={dir:"rtl",class:"flex min-h-screen items-center justify-center bg-muted p-4"},D={class:"grid gap-2"},E={class:"grid gap-2"},P={class:"flex items-center"},R={key:1},T={key:0,class:"text-red-500 mt-2"},W=x({__name:"LoginPage",setup(z){const u=r(""),m=r(""),o=r(!1),l=r(""),f=B(),c=b();V(async()=>{await f.init(),f.isAuthenticated&&c.push("/restaurant/dashboard")});async function w(){o.value=!0,l.value="";try{await f.login(u.value,m.value),c.push("/restaurant/dashboard")}catch(v){l.value=v.response?.data?.message||"Login failed"}finally{o.value=!1}}return(v,e)=>(n(),_("main",U,[s(a(C),{class:"w-86"},{default:t(()=>[s(a(S),null,{default:t(()=>[s(a(j),{class:"text-2xl"},{default:t(()=>[...e[2]||(e[2]=[i(" تسجيل الدخول ",-1)])]),_:1}),s(a(A),null,{default:t(()=>[...e[3]||(e[3]=[i(" أدخل اسم المطعمك أدناه لتسجيل الدخول إلى حسابك ",-1)])]),_:1})]),_:1}),s(a(q),null,{default:t(()=>[d("form",{class:"grid gap-4",onSubmit:L(w,["prevent"])},[d("div",D,[s(a(y),{for:"name"},{default:t(()=>[...e[4]||(e[4]=[i("اسم المطعم",-1)])]),_:1}),s(a(g),{id:"name",type:"text",placeholder:"اسم المطعم",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=p=>u.value=p),required:""},null,8,["modelValue"])]),d("div",E,[d("div",P,[s(a(y),{for:"password"},{default:t(()=>[...e[5]||(e[5]=[i("كلمة المرور",-1)])]),_:1})]),s(a(g),{id:"password",type:"password",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=p=>m.value=p),required:""},null,8,["modelValue"])]),s(a(N),{type:"submit",class:"w-full",disabled:o.value},{default:t(()=>[o.value?(n(),$(a(M),{key:0,class:"animate-spin"})):(n(),_("span",R,"تسجيل الدخول"))]),_:1},8,["disabled"]),l.value?(n(),_("p",T,k(l.value),1)):h("",!0)],32)]),_:1})]),_:1})]))}});export{W as default};
