import{d as x,f as i,h as b,e as l,a as v,b as t,q as w,F as y,l as k,t as e,k as _,z as p,o as c}from"./index-CTakD6A6.js";import{_ as C}from"./Sidebar.vue_vue_type_script_setup_true_lang-D7ms-d9E.js";import"./createLucideIcon-Dne6exBT.js";import"./house-B8Sz2ej8.js";import"./truck-C0S8qbak.js";import"./mail-DAB1OMWZ.js";const M={class:"flex h-screen bg-background"},N={class:"w-full flex flex-col p-6"},V={class:"overflow-auto rounded border"},$={class:"w-full text-left"},B={class:"p-3"},j={class:"p-3"},D={class:"p-3"},F={class:"p-3 truncate max-w-[200px]"},q={class:"p-3"},z={class:"p-3 flex gap-3"},E=["onClick"],L=["onClick"],P={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center"},S={class:"bg-white w-96 p-6 rounded shadow"},T={class:"text-xl font-semibold mb-3"},A={class:"flex flex-col gap-3"},G={class:"border p-3 rounded bg-gray-50 whitespace-pre-wrap"},H={class:"text-sm text-gray-600"},W=x({__name:"MessagesPage",setup(I){const r=i([]),d=i(!1),n=i({});async function u(){const a=await p.get("/contacts");r.value=await a.data.data}function f(a){n.value=a,d.value=!0}async function h(a){await p.delete(`/contacts/${a}`),u()}function m(){d.value=!1}return b(u),(a,s)=>(c(),l("div",M,[v(C),t("div",N,[s[4]||(s[4]=t("h1",{class:"text-2xl font-bold mb-4"},"رسائل التواصل",-1)),t("div",V,[t("table",$,[s[0]||(s[0]=t("thead",null,[t("tr",{class:"bg-gray-100"},[t("th",{class:"p-3"},"رقم"),t("th",{class:"p-3"},"الاسم"),t("th",{class:"p-3"},"رقم الهاتف"),t("th",{class:"p-3"},"الرسالة"),t("th",{class:"p-3"},"تاريخ الإنشاء"),t("th",{class:"p-3"},"الإجراءات")])],-1)),t("tbody",null,[(c(!0),l(y,null,k(r.value,o=>(c(),l("tr",{key:o.contact_id,class:"border-b"},[t("td",B,e(o.contact_id),1),t("td",j,e(o.contact_name),1),t("td",D,e(o.contact_phone),1),t("td",F,e(o.contact_message),1),t("td",q,e(o.created_at),1),t("td",z,[t("button",{class:"px-3 py-1 bg-blue-600 text-white rounded",onClick:g=>f(o)}," عرض ",8,E),t("button",{class:"px-3 py-1 bg-red-600 text-white rounded",onClick:g=>h(o.contact_id)}," حذف ",8,L)])]))),128))])])]),d.value?(c(),l("div",P,[t("div",S,[t("h2",T," رسالة من: "+e(n.value.contact_name),1),t("div",A,[t("p",null,[s[1]||(s[1]=t("strong",null,"رقم الهاتف:",-1)),_(" "+e(n.value.contact_phone),1)]),s[3]||(s[3]=t("p",null,[t("strong",null,"الرسالة:")],-1)),t("p",G,e(n.value.contact_message),1),t("p",H,[s[2]||(s[2]=t("strong",null,"تاريخ الإنشاء:",-1)),_(" "+e(n.value.created_at),1)])]),t("div",{class:"flex justify-end mt-4"},[t("button",{class:"px-4 py-2 bg-gray-300 rounded",onClick:m}," إغلاق ")])])])):w("",!0)])]))}});export{W as default};
