import{D as j,d as k,c as P,o as _,w as c,r as I,u as t,f as x,J as Ce,q as M,e as V,l as ce,m as R,F as ae,B as te,b as l,K as fe,a as g,v as ne,p as lt,h as W,P as se,L as st,E as Fe,G as Me,T as nt,k as z,O as at,N as it,t as B,n as Ne,z as we,A as Ee,x as ut,y as dt}from"./index-CTakD6A6.js";import{_ as pt}from"./index-DaZ9IdLv.js";import{P as L,c as $e,a as ee,_ as Q}from"./createLucideIcon-Dne6exBT.js";import{u as oe,d as ct,P as ft,e as vt,f as mt,g as je,h as gt,_ as he,a as xe,b as be,c as K}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-C_KmEpXr.js";import{_ as yt,E as _t}from"./CustomPagination.vue_vue_type_script_setup_true_lang-BHUexTDH.js";import{_ as ht}from"./Sidebar.vue_vue_type_script_setup_true_lang-D7ms-d9E.js";import{c as ve,a as re,u as qe}from"./useForwardPropsEmits-Bg8EFT5z.js";import{t as xt,b as Le,u as Oe,a as G,c as bt,r as ue}from"./index-B02yCj5F.js";import{i as wt,c as St,b as Ct,F as $t,D as qt,f as Ae,P as Bt,u as He,h as Pt,g as Ue,T as kt}from"./Teleport-DGzoDYVu.js";import{X as It}from"./x-CmVwNS2Q.js";import{S as Tt,F as De}from"./search-DwBCUd45.js";import{E as Et}from"./eye-BwDrF1bL.js";import"./house-B8Sz2ej8.js";import"./truck-C0S8qbak.js";import"./mail-DAB1OMWZ.js";function ze(n){return typeof n=="string"?`'${n}'`:new Ot().serialize(n)}const Ot=(function(){class n{#e=new Map;compare(e,a){const r=typeof e,u=typeof a;return r==="string"&&u==="string"?e.localeCompare(a):r==="number"&&u==="number"?e-a:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(a,!0))}serialize(e,a){if(e===null)return"null";switch(typeof e){case"string":return a?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const a=Object.prototype.toString.call(e);if(a!=="[object Object]")return this.serializeBuiltInType(a.length<10?`unknown:${a}`:a.slice(8,-1),e);const r=e.constructor,u=r===Object||r===void 0?"":r.name;if(u!==""&&globalThis[u]===r)return this.serializeBuiltInType(u,e);if(typeof e.toJSON=="function"){const d=e.toJSON();return u+(d!==null&&typeof d=="object"?this.$object(d):`(${this.serialize(d)})`)}return this.serializeObjectEntries(u,Object.entries(e))}serializeBuiltInType(e,a){const r=this["$"+e];if(r)return r.call(this,a);if(typeof a?.entries=="function")return this.serializeObjectEntries(e,a.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,a){const r=Array.from(a).sort((d,f)=>this.compare(d[0],f[0]));let u=`${e}{`;for(let d=0;d<r.length;d++){const[f,v]=r[d];u+=`${this.serialize(f,!0)}:${this.serialize(v)}`,d<r.length-1&&(u+=",")}return u+"}"}$object(e){let a=this.#e.get(e);return a===void 0&&(this.#e.set(e,`#${this.#e.size}`),a=this.serializeObject(e),this.#e.set(e,a)),a}$function(e){const a=Function.prototype.toString.call(e);return a.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${a.replace(/\s*\n\s*/g,"")}`}$Array(e){let a="[";for(let r=0;r<e.length;r++)a+=this.serialize(e[r]),r<e.length-1&&(a+=",");return a+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((a,r)=>this.compare(a,r)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const o of["Error","RegExp","URL"])n.prototype["$"+o]=function(e){return`${o}(${e})`};for(const o of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])n.prototype["$"+o]=function(e){return`${o}[${e.join(",")}]`};for(const o of["BigInt64Array","BigUint64Array"])n.prototype["$"+o]=function(e){return`${o}[${e.join("n,")}${e.length>0?"n":""}]`};return n})();function At(n,o){return n===o||ze(n)===ze(o)}function Ve(n,o=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){return Math.min(e,Math.max(o,n))}function Re(n){return n==null}function Dt(n){return j(()=>xt(n)?!!Le(n)?.closest("form"):!0)}var zt=k({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){return(o,e)=>(_(),P(t(L),{as:o.as,"as-child":o.asChild,"aria-hidden":o.feature==="focusable"?"true":void 0,"data-hidden":o.feature==="fully-hidden"?"":void 0,tabindex:o.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:c(()=>[I(o.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),Vt=zt;function Rt(n){const o=wt({nonce:x()});return j(()=>n?.value||o.nonce?.value)}const Ft=[" ","Enter","ArrowUp","ArrowDown"],Mt=[" ","Enter"],N=10;function ie(n,o,e){return n===void 0?!1:Array.isArray(n)?n.some(a=>Se(a,o,e)):Se(n,o,e)}function Se(n,o,e){return n===void 0||o===void 0?!1:typeof n=="string"?n===o:typeof e=="function"?e(n,o):typeof e=="string"?n?.[e]===o?.[e]:At(n,o)}function Nt(n){return n==null||n===""||Array.isArray(n)&&n.length===0}const jt={key:0,value:""},[Y,Ke]=ve("SelectRoot");var Lt=k({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1,default:void 0},by:{type:[String,Function],required:!1},dir:{type:String,required:!1},multiple:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(n,{emit:o}){const e=n,a=o,{required:r,disabled:u,multiple:d,dir:f}=Ce(e),v=Oe(e,"modelValue",a,{defaultValue:e.defaultValue??(d.value?[]:void 0),passive:e.modelValue===void 0,deep:!0}),m=Oe(e,"open",a,{defaultValue:e.defaultOpen,passive:e.open===void 0}),s=x(),y=x(),q=x({x:0,y:0}),w=j(()=>d.value&&Array.isArray(v.value)?v.value?.length===0:Re(v.value));oe({isProvider:!0});const h=ct(f),D=Dt(s),E=x(new Set),F=j(()=>Array.from(E.value).map(i=>i.value).join(";"));function C(i){if(d.value){const S=Array.isArray(v.value)?[...v.value]:[],b=S.findIndex($=>Se($,i,e.by));b===-1?S.push(i):S.splice(b,1),v.value=[...S]}else v.value=i}function p(i){return Array.from(E.value).find(S=>ie(i,S.value,e.by))}return Ke({triggerElement:s,onTriggerChange:i=>{s.value=i},valueElement:y,onValueElementChange:i=>{y.value=i},contentId:"",modelValue:v,onValueChange:C,by:e.by,open:m,multiple:d,required:r,onOpenChange:i=>{m.value=i},dir:h,triggerPointerDownPosRef:q,disabled:u,isEmptyModelValue:w,optionsSet:E,onOptionAdd:i=>{const S=p(i.value);S&&E.value.delete(S),E.value.add(i)},onOptionRemove:i=>{const S=p(i.value);S&&E.value.delete(S)}}),(i,S)=>(_(),P(t(ft),null,{default:c(()=>[I(i.$slots,"default",{modelValue:t(v),open:t(m)}),t(D)?(_(),P(Kt,{key:F.value,"aria-hidden":"true",tabindex:"-1",multiple:t(d),required:t(r),name:i.name,autocomplete:i.autocomplete,disabled:t(u),value:t(v)},{default:c(()=>[t(Re)(t(v))?(_(),V("option",jt)):M("v-if",!0),(_(!0),V(ae,null,ce(Array.from(E.value),b=>(_(),V("option",R({key:b.value??""},{ref_for:!0},b),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):M("v-if",!0)]),_:3}))}}),Ht=Lt,Ut=k({__name:"BubbleSelect",props:{autocomplete:{type:String,required:!1},autofocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},form:{type:String,required:!1},multiple:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},size:{type:Number,required:!1},value:{type:null,required:!1}},setup(n){const o=n,e=x(),a=Y();te(()=>o.value,(u,d)=>{const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==d&&m&&e.value){const s=new Event("change",{bubbles:!0});m.call(e.value,u),e.value.dispatchEvent(s)}});function r(u){a.onValueChange(u.target.value)}return(u,d)=>(_(),P(t(Vt),{"as-child":""},{default:c(()=>[l("select",R({ref_key:"selectElement",ref:e},o,{onInput:r}),[I(u.$slots,"default")],16)]),_:3}))}}),Kt=Ut,Wt=k({__name:"SelectPopperPosition",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1,default:N},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const e=re(n);return(a,r)=>(_(),P(t(vt),R(t(e),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:c(()=>[I(a.$slots,"default")]),_:3},16))}}),Gt=Wt;const Yt={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Z,We]=ve("SelectContent");var Jt=k({__name:"SelectContentImpl",props:{position:{type:String,required:!1,default:"item-aligned"},bodyLock:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(n,{emit:o}){const e=n,a=o,r=Y();mt(),St(e.bodyLock);const{CollectionSlot:u,getItems:d}=oe(),f=x();Ct(f);const{search:v,handleTypeaheadSearch:m}=je(),s=x(),y=x(),q=x(),w=x(!1),h=x(!1),D=x(!1);function E(){y.value&&f.value&&Ae([y.value,f.value])}te(w,()=>{E()});const{onOpenChange:F,triggerPointerDownPosRef:C}=r;fe(b=>{if(!f.value)return;let $={x:0,y:0};const T=A=>{$={x:Math.abs(Math.round(A.pageX)-(C.value?.x??0)),y:Math.abs(Math.round(A.pageY)-(C.value?.y??0))}},O=A=>{A.pointerType!=="touch"&&($.x<=10&&$.y<=10?A.preventDefault():f.value?.contains(A.target)||F(!1),document.removeEventListener("pointermove",T),C.value=null)};C.value!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",O,{capture:!0,once:!0})),b(()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",O,{capture:!0})})});function p(b){const $=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!$&&b.key.length===1&&m(b.key,d()),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let O=[...d().map(A=>A.ref)];if(["ArrowUp","End"].includes(b.key)&&(O=O.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const A=b.target,le=O.indexOf(A);O=O.slice(le+1)}setTimeout(()=>Ae(O)),b.preventDefault()}}const i=j(()=>e.position==="popper"?e:{}),S=re(i.value);return We({content:f,viewport:s,onViewportChange:b=>{s.value=b},itemRefCallback:(b,$,T)=>{const O=!h.value&&!T,A=ie(r.modelValue.value,$,r.by);if(r.multiple.value){if(D.value)return;(A||O)&&(y.value=b,A&&(D.value=!0))}else(A||O)&&(y.value=b);O&&(h.value=!0)},selectedItem:y,selectedItemText:q,onItemLeave:()=>{f.value?.focus()},itemTextRefCallback:(b,$,T)=>{const O=!h.value&&!T;(ie(r.modelValue.value,$,r.by)||O)&&(q.value=b)},focusSelectedItem:E,position:e.position,isPositioned:w,searchRef:v}),(b,$)=>(_(),P(t(u),null,{default:c(()=>[g(t($t),{"as-child":"",onMountAutoFocus:$[6]||($[6]=ne(()=>{},["prevent"])),onUnmountAutoFocus:$[7]||($[7]=T=>{a("closeAutoFocus",T),!T.defaultPrevented&&(t(r).triggerElement.value?.focus({preventScroll:!0}),T.preventDefault())})},{default:c(()=>[g(t(qt),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:$[2]||($[2]=ne(()=>{},["prevent"])),onDismiss:$[3]||($[3]=T=>t(r).onOpenChange(!1)),onEscapeKeyDown:$[4]||($[4]=T=>a("escapeKeyDown",T)),onPointerDownOutside:$[5]||($[5]=T=>a("pointerDownOutside",T))},{default:c(()=>[(_(),P(lt(b.position==="popper"?Gt:eo),R({...b.$attrs,...t(S)},{id:t(r).contentId,ref:T=>{const O=t(Le)(T);O?.hasAttribute("data-reka-popper-content-wrapper")?f.value=O.firstElementChild:f.value=O},role:"listbox","data-state":t(r).open.value?"open":"closed",dir:t(r).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:$[0]||($[0]=ne(()=>{},["prevent"])),onPlaced:$[1]||($[1]=T=>w.value=!0),onKeydown:p}),{default:c(()=>[I(b.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),Xt=Jt;const[Be,Zt]=ve("SelectItemAlignedPosition");var Qt=k({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["placed"],setup(n,{emit:o}){const e=n,a=o,{getItems:r}=oe(),u=Y(),d=Z(),f=x(!1),v=x(!0),m=x(),{forwardRef:s,currentElement:y}=G(),{viewport:q,selectedItem:w,selectedItemText:h,focusSelectedItem:D}=d;function E(){if(u.triggerElement.value&&u.valueElement.value&&m.value&&y.value&&q?.value&&w?.value&&h?.value){const p=u.triggerElement.value.getBoundingClientRect(),i=y.value.getBoundingClientRect(),S=u.valueElement.value.getBoundingClientRect(),b=h.value.getBoundingClientRect();if(u.dir.value!=="rtl"){const H=b.left-i.left,U=S.left-H,J=p.left-U,X=p.width+J,ge=Math.max(X,i.width),ye=window.innerWidth-N,_e=Ve(U,N,Math.max(N,ye-ge));m.value.style.minWidth=`${X}px`,m.value.style.left=`${_e}px`}else{const H=i.right-b.right,U=window.innerWidth-S.right-H,J=window.innerWidth-p.right-U,X=p.width+J,ge=Math.max(X,i.width),ye=window.innerWidth-N,_e=Ve(U,N,Math.max(N,ye-ge));m.value.style.minWidth=`${X}px`,m.value.style.right=`${_e}px`}const $=r().map(H=>H.ref),T=window.innerHeight-N*2,O=q.value.scrollHeight,A=window.getComputedStyle(y.value),le=Number.parseInt(A.borderTopWidth,10),Pe=Number.parseInt(A.paddingTop,10),ke=Number.parseInt(A.borderBottomWidth,10),Xe=Number.parseInt(A.paddingBottom,10),Ie=le+Pe+O+Xe+ke,Ze=Math.min(w.value.offsetHeight*5,Ie),Te=window.getComputedStyle(q.value),Qe=Number.parseInt(Te.paddingTop,10),et=Number.parseInt(Te.paddingBottom,10),de=p.top+p.height/2-N,tt=T-de,me=w.value.offsetHeight/2,ot=w.value.offsetTop+me,pe=le+Pe+ot,rt=Ie-pe;if(pe<=de){const H=w.value===$[$.length-1];m.value.style.bottom="0px";const U=y.value.clientHeight-q.value.offsetTop-q.value.offsetHeight,J=Math.max(tt,me+(H?et:0)+U+ke),X=pe+J;m.value.style.height=`${X}px`}else{const H=w.value===$[0];m.value.style.top="0px";const J=Math.max(de,le+q.value.offsetTop+(H?Qe:0)+me)+rt;m.value.style.height=`${J}px`,q.value.scrollTop=pe-de+q.value.offsetTop}m.value.style.margin=`${N}px 0`,m.value.style.minHeight=`${Ze}px`,m.value.style.maxHeight=`${T}px`,a("placed"),requestAnimationFrame(()=>f.value=!0)}}const F=x("");W(async()=>{await se(),E(),y.value&&(F.value=window.getComputedStyle(y.value).zIndex)});function C(p){p&&v.value===!0&&(E(),D?.(),v.value=!1)}return bt(u.triggerElement,()=>{E()}),Zt({contentWrapper:m,shouldExpandOnScrollRef:f,onScrollButtonChange:C}),(p,i)=>(_(),V("div",{ref_key:"contentWrapperElement",ref:m,style:st({display:"flex",flexDirection:"column",position:"fixed",zIndex:F.value})},[g(t(L),R({ref:t(s),style:{boxSizing:"border-box",maxHeight:"100%"}},{...p.$attrs,...e}),{default:c(()=>[I(p.$slots,"default")]),_:3},16)],4))}}),eo=Qt,to=k({inheritAttrs:!1,__name:"SelectProvider",props:{context:{type:Object,required:!0}},setup(n){return Ke(n.context),We(Yt),(e,a)=>I(e.$slots,"default")}}),oo=to;const ro={key:1};var lo=k({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(n,{emit:o}){const e=n,r=qe(e,o),u=Y(),d=x();W(()=>{d.value=new DocumentFragment});const f=x(),v=j(()=>e.forceMount||u.open.value),m=x(v.value);return te(v,()=>{setTimeout(()=>m.value=v.value)}),(s,y)=>v.value||m.value||f.value?.present?(_(),P(t(Bt),{key:0,ref_key:"presenceRef",ref:f,present:v.value},{default:c(()=>[g(Xt,Fe(Me({...t(r),...s.$attrs})),{default:c(()=>[I(s.$slots,"default")]),_:3},16)]),_:3},8,["present"])):d.value?(_(),V("div",ro,[(_(),P(nt,{to:d.value},[g(oo,{context:t(u)},{default:c(()=>[I(s.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):M("v-if",!0)}}),so=lo,no=k({__name:"SelectIcon",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){return(o,e)=>(_(),P(t(L),{"aria-hidden":"true",as:o.as,"as-child":o.asChild},{default:c(()=>[I(o.$slots,"default",{},()=>[e[0]||(e[0]=z("▼"))])]),_:3},8,["as","as-child"]))}}),ao=no;const[Ge,io]=ve("SelectItem");var uo=k({__name:"SelectItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(n,{emit:o}){const e=n,a=o,{disabled:r}=Ce(e),u=Y(),d=Z(),{forwardRef:f,currentElement:v}=G(),{CollectionItem:m}=oe(),s=j(()=>ie(u.modelValue?.value,e.value,u.by)),y=x(!1),q=x(e.textValue??""),w=He(void 0,"reka-select-item-text"),h="select.select";async function D(i){if(i.defaultPrevented)return;const S={originalEvent:i,value:e.value};Pt(h,E,S)}async function E(i){await se(),a("select",i),!i.defaultPrevented&&(r.value||(u.onValueChange(e.value),u.multiple.value||u.onOpenChange(!1)))}async function F(i){await se(),!i.defaultPrevented&&(r.value?d.onItemLeave?.():i.currentTarget?.focus({preventScroll:!0}))}async function C(i){await se(),!i.defaultPrevented&&i.currentTarget===Ue()&&d.onItemLeave?.()}async function p(i){await se(),!(i.defaultPrevented||d.searchRef?.value!==""&&i.key===" ")&&(Mt.includes(i.key)&&D(i),i.key===" "&&i.preventDefault())}if(e.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return W(()=>{v.value&&d.itemRefCallback(v.value,e.value,e.disabled)}),io({value:e.value,disabled:r,textId:w,isSelected:s,onItemTextChange:i=>{q.value=((q.value||i?.textContent)??"").trim()}}),(i,S)=>(_(),P(t(m),{value:{textValue:q.value}},{default:c(()=>[g(t(L),{ref:t(f),role:"option","aria-labelledby":t(w),"data-highlighted":y.value?"":void 0,"aria-selected":s.value,"data-state":s.value?"checked":"unchecked","aria-disabled":t(r)||void 0,"data-disabled":t(r)?"":void 0,tabindex:t(r)?void 0:-1,as:i.as,"as-child":i.asChild,onFocus:S[0]||(S[0]=b=>y.value=!0),onBlur:S[1]||(S[1]=b=>y.value=!1),onPointerup:D,onPointerdown:S[2]||(S[2]=b=>{b.currentTarget.focus({preventScroll:!0})}),onTouchend:S[3]||(S[3]=ne(()=>{},["prevent","stop"])),onPointermove:F,onPointerleave:C,onKeydown:p},{default:c(()=>[I(i.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),po=uo,co=k({__name:"SelectItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const o=n,e=Ge();return(a,r)=>t(e).isSelected.value?(_(),P(t(L),R({key:0,"aria-hidden":"true"},o),{default:c(()=>[I(a.$slots,"default")]),_:3},16)):M("v-if",!0)}}),fo=co,vo=k({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const o=n,e=Y(),a=Z(),r=Ge(),{forwardRef:u,currentElement:d}=G(),f=j(()=>({value:r.value,disabled:r.disabled.value,textContent:d.value?.textContent??r.value?.toString()??""}));return W(()=>{d.value&&(r.onItemTextChange(d.value),a.itemTextRefCallback(d.value,r.value,r.disabled.value),e.onOptionAdd(f.value))}),at(()=>{e.onOptionRemove(f.value)}),(v,m)=>(_(),P(t(L),R({id:t(r).textId,ref:t(u)},{...o,...v.$attrs}),{default:c(()=>[I(v.$slots,"default")]),_:3},16,["id"]))}}),mo=vo,go=k({__name:"SelectPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(n){const o=n;return(e,a)=>(_(),P(t(kt),Fe(Me(o)),{default:c(()=>[I(e.$slots,"default")]),_:3},16))}}),yo=go,_o=k({__name:"SelectScrollButtonImpl",emits:["autoScroll"],setup(n,{emit:o}){const e=o,{getItems:a}=oe(),r=Z(),u=x(null);function d(){u.value!==null&&(window.clearInterval(u.value),u.value=null)}fe(()=>{a().map(s=>s.ref).find(s=>s===Ue())?.scrollIntoView({block:"nearest"})});function f(){u.value===null&&(u.value=window.setInterval(()=>{e("autoScroll")},50))}function v(){r.onItemLeave?.(),u.value===null&&(u.value=window.setInterval(()=>{e("autoScroll")},50))}return it(()=>d()),(m,s)=>(_(),P(t(L),R({"aria-hidden":"true",style:{flexShrink:0}},m.$parent?.$props,{onPointerdown:f,onPointermove:v,onPointerleave:s[0]||(s[0]=()=>{d()})}),{default:c(()=>[I(m.$slots,"default")]),_:3},16))}}),Ye=_o,ho=k({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const o=Z(),e=o.position==="item-aligned"?Be():void 0,{forwardRef:a,currentElement:r}=G(),u=x(!1);return fe(d=>{if(o.viewport?.value&&o.isPositioned?.value){let v=function(){const m=f.scrollHeight-f.clientHeight;u.value=Math.ceil(f.scrollTop)<m};const f=o.viewport.value;v(),f.addEventListener("scroll",v),d(()=>f.removeEventListener("scroll",v))}}),te(r,()=>{r.value&&e?.onScrollButtonChange(r.value)}),(d,f)=>u.value?(_(),P(Ye,{key:0,ref:t(a),onAutoScroll:f[0]||(f[0]=()=>{const{viewport:v,selectedItem:m}=t(o);v?.value&&m?.value&&(v.value.scrollTop=v.value.scrollTop+m.value.offsetHeight)})},{default:c(()=>[I(d.$slots,"default")]),_:3},512)):M("v-if",!0)}}),xo=ho,bo=k({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const o=Z(),e=o.position==="item-aligned"?Be():void 0,{forwardRef:a,currentElement:r}=G(),u=x(!1);return fe(d=>{if(o.viewport?.value&&o.isPositioned?.value){let v=function(){u.value=f.scrollTop>0};const f=o.viewport.value;v(),f.addEventListener("scroll",v),d(()=>f.removeEventListener("scroll",v))}}),te(r,()=>{r.value&&e?.onScrollButtonChange(r.value)}),(d,f)=>u.value?(_(),P(Ye,{key:0,ref:t(a),onAutoScroll:f[0]||(f[0]=()=>{const{viewport:v,selectedItem:m}=t(o);v?.value&&m?.value&&(v.value.scrollTop=v.value.scrollTop-m.value.offsetHeight)})},{default:c(()=>[I(d.$slots,"default")]),_:3},512)):M("v-if",!0)}}),wo=bo,So=k({__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const o=n,e=Y(),{forwardRef:a,currentElement:r}=G(),u=j(()=>e.disabled?.value||o.disabled);e.contentId||=He(void 0,"reka-select-content"),W(()=>{e.onTriggerChange(r.value)});const{getItems:d}=oe(),{search:f,handleTypeaheadSearch:v,resetTypeahead:m}=je();function s(){u.value||(e.onOpenChange(!0),m())}function y(q){s(),e.triggerPointerDownPosRef.value={x:Math.round(q.pageX),y:Math.round(q.pageY)}}return(q,w)=>(_(),P(t(gt),{"as-child":"",reference:q.reference},{default:c(()=>[g(t(L),{ref:t(a),role:"combobox",type:q.as==="button"?"button":void 0,"aria-controls":t(e).contentId,"aria-expanded":t(e).open.value||!1,"aria-required":t(e).required?.value,"aria-autocomplete":"none",disabled:u.value,dir:t(e)?.dir.value,"data-state":t(e)?.open.value?"open":"closed","data-disabled":u.value?"":void 0,"data-placeholder":t(Nt)(t(e).modelValue?.value)?"":void 0,"as-child":q.asChild,as:q.as,onClick:w[0]||(w[0]=h=>{h?.currentTarget?.focus()}),onPointerdown:w[1]||(w[1]=h=>{if(h.pointerType==="touch")return h.preventDefault();const D=h.target;D.hasPointerCapture(h.pointerId)&&D.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&(y(h),h.preventDefault())}),onPointerup:w[2]||(w[2]=ne(h=>{h.pointerType==="touch"&&y(h)},["prevent"])),onKeydown:w[3]||(w[3]=h=>{const D=t(f)!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&D&&h.key===" "||(t(v)(h.key,t(d)()),t(Ft).includes(h.key)&&(s(),h.preventDefault()))})},{default:c(()=>[I(q.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]),_:3},8,["reference"]))}}),Co=So,$o=k({__name:"SelectValue",props:{placeholder:{type:String,required:!1,default:""},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const o=n,{forwardRef:e,currentElement:a}=G(),r=Y();W(()=>{r.valueElement=a});const u=j(()=>{let f=[];const v=Array.from(r.optionsSet.value),m=s=>v.find(y=>ie(s,y.value,r.by));return Array.isArray(r.modelValue.value)?f=r.modelValue.value.map(s=>m(s)?.textContent??""):f=[m(r.modelValue.value)?.textContent??""],f.filter(Boolean)}),d=j(()=>u.value.length?u.value.join(", "):o.placeholder);return(f,v)=>(_(),P(t(L),{ref:t(e),as:f.as,"as-child":f.asChild,style:{pointerEvents:"none"},"data-placeholder":u.value.length?void 0:o.placeholder},{default:c(()=>[I(f.$slots,"default",{selectedLabel:u.value,modelValue:t(r).modelValue.value},()=>[z(B(d.value),1)])]),_:3},8,["as","as-child","data-placeholder"]))}}),qo=$o,Bo=k({__name:"SelectViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const o=n,{nonce:e}=Ce(o),a=Rt(e),r=Z(),u=r.position==="item-aligned"?Be():void 0,{forwardRef:d,currentElement:f}=G();W(()=>{r?.onViewportChange(f.value)});const v=x(0);function m(s){const y=s.currentTarget,{shouldExpandOnScrollRef:q,contentWrapper:w}=u??{};if(q?.value&&w?.value){const h=Math.abs(v.value-y.scrollTop);if(h>0){const D=window.innerHeight-N*2,E=Number.parseFloat(w.value.style.minHeight),F=Number.parseFloat(w.value.style.height),C=Math.max(E,F);if(C<D){const p=C+h,i=Math.min(D,p),S=p-i;w.value.style.height=`${i}px`,w.value.style.bottom==="0px"&&(y.scrollTop=S>0?S:0,w.value.style.justifyContent="flex-end")}}}v.value=y.scrollTop}return(s,y)=>(_(),V(ae,null,[g(t(L),R({ref:t(d),"data-reka-select-viewport":"",role:"presentation"},{...s.$attrs,...o},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:m}),{default:c(()=>[I(s.$slots,"default")]),_:3},16),g(t(L),{as:"style",nonce:t(a)},{default:c(()=>y[0]||(y[0]=[z(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),Po=Bo;/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=$e("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=$e("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=$e("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),To=k({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(n,{emit:o}){const r=qe(n,o);return(u,d)=>(_(),P(t(Ht),R({"data-slot":"select"},t(r)),{default:c(()=>[I(u.$slots,"default")]),_:3},16))}}),Eo=k({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(n,{emit:o}){const e=n,a=o,r=ue(e,"class"),u=qe(r,a);return(d,f)=>(_(),P(t(yo),null,{default:c(()=>[g(t(so),R({"data-slot":"select-content"},{...t(u),...d.$attrs},{class:t(ee)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--reka-select-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e.class)}),{default:c(()=>[g(t(zo)),g(t(Po),{class:Ne(t(ee)("p-1",n.position==="popper"&&"h-[var(--reka-select-trigger-height)] w-full min-w-[var(--reka-select-trigger-width)] scroll-my-1"))},{default:c(()=>[I(d.$slots,"default")]),_:3},8,["class"]),g(t(Do))]),_:3},16,["class"])]),_:3}))}}),Oo={class:"absolute right-2 flex size-3.5 items-center justify-center"},Ao=k({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const o=n,e=ue(o,"class"),a=re(e);return(r,u)=>(_(),P(t(po),R({"data-slot":"select-item"},t(a),{class:t(ee)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o.class)}),{default:c(()=>[l("span",Oo,[g(t(fo),null,{default:c(()=>[g(t(ko),{class:"size-4"})]),_:1})]),g(t(mo),null,{default:c(()=>[I(r.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),Do=k({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const o=n,e=ue(o,"class"),a=re(e);return(r,u)=>(_(),P(t(xo),R({"data-slot":"select-scroll-down-button"},t(a),{class:t(ee)("flex cursor-default items-center justify-center py-1",o.class)}),{default:c(()=>[I(r.$slots,"default",{},()=>[g(t(Je),{class:"size-4"})])]),_:3},16,["class"]))}}),zo=k({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const o=n,e=ue(o,"class"),a=re(e);return(r,u)=>(_(),P(t(wo),R({"data-slot":"select-scroll-up-button"},t(a),{class:t(ee)("flex cursor-default items-center justify-center py-1",o.class)}),{default:c(()=>[I(r.$slots,"default",{},()=>[g(t(Io),{class:"size-4"})])]),_:3},16,["class"]))}}),Vo=k({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{},size:{default:"default"}},setup(n){const o=n,e=ue(o,"class","size"),a=re(e);return(r,u)=>(_(),P(t(Co),R({"data-slot":"select-trigger","data-size":n.size},t(a),{class:t(ee)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o.class)}),{default:c(()=>[I(r.$slots,"default"),g(t(ao),{"as-child":""},{default:c(()=>[g(t(Je),{class:"size-4 opacity-50"})]),_:1})]),_:3},16,["data-size","class"]))}}),Ro=k({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(n){const o=n;return(e,a)=>(_(),P(t(qo),R({"data-slot":"select-value"},o),{default:c(()=>[I(e.$slots,"default")]),_:3},16))}}),Fo={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Mo={class:"bg-card border border-border rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto"},No={class:"flex items-center justify-between p-6 border-b border-border sticky top-0 bg-card"},jo={class:"p-6 space-y-6",dir:"rtl"},Lo={class:"grid grid-cols-2 gap-6"},Ho={class:"text-lg font-bold text-foreground"},Uo={class:"text-lg font-bold text-primary capitalize"},Ko={class:"bg-muted/30 rounded-lg p-4 space-y-3"},Wo={class:"grid grid-cols-2 gap-4"},Go={class:"text-sm text-foreground"},Yo={class:"text-sm text-foreground"},Jo={class:"col-span-2"},Xo={class:"text-sm text-foreground"},Zo={class:"bg-muted/30 rounded-lg p-4 space-y-3"},Qo={class:"grid grid-cols-2 gap-4"},er={class:"text-sm text-foreground"},tr={class:"text-sm text-foreground"},or={class:"col-span-2"},rr={class:"text-sm text-foreground"},lr={key:0,class:"bg-muted/30 rounded-lg p-4 space-y-3"},sr={class:"grid grid-cols-2 gap-4"},nr={class:"text-sm text-foreground"},ar={class:"text-sm text-foreground"},ir={class:"text-sm text-foreground capitalize"},ur={class:"text-sm text-foreground"},dr={key:1,class:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-4"},pr={class:"bg-muted/30 rounded-lg p-4 space-y-3"},cr={class:"space-y-2 text-sm"},fr={class:"flex justify-between"},vr={class:"text-foreground font-medium"},mr={class:"flex justify-between"},gr={class:"text-foreground font-medium"},yr={class:"border-t border-border pt-2 flex justify-between"},_r={class:"text-foreground font-bold"},hr={key:2,class:"bg-muted/30 rounded-lg p-4"},xr={class:"text-sm text-foreground"},br={class:"text-xs text-muted-foreground"},wr={key:0,class:"w-full flex px-6 gap-3 my-3",dir:"rtl"},Sr={class:"flex gap-3 p-6 border-t border-border bg-muted/20"},Cr=k({__name:"OrderDitails",props:{order:{},isOpen:{type:Boolean},onEdit:{type:Function},onClose:{type:Function}},setup(n){const o=n;function e(m){switch(m){case"preparing":return"في التحضير";case"ready":return"جاهز للاستلام";case"picked-up":return"تم الاستلام";case"delivered":return"تم التوصيل";default:return"في التحضير"}}const a=x(!1),r=x([]),u=x(null),d=x(!1),f=async()=>{try{d.value=!0;const m=await we.get(`/driver?active=true&city=${o.order.restaurant_city}`);r.value=m.data.drivers,a.value=!0}catch(m){console.error("حدث خطأ أثناء جلب السائقين:",m)}finally{d.value=!1}},v=async()=>{if(!u.value)return alert("اختر سائق أولاً");try{await we.post(`/orders/assign/${o.order.order_id}`,{driver_id:u.value}),Ee.success("تم تعيين السائق بنجاح"),a.value=!1,o.onEdit()}catch(m){console.error("حدث خطأ أثناء تعيين السائق:",m),Ee.error("فشل تعيين السائق")}};return(m,s)=>o.isOpen?(_(),V("div",Fo,[l("div",Mo,[l("div",No,[s[3]||(s[3]=l("h2",{class:"text-xl font-bold text-foreground"},"تفاصيل الطلب",-1)),l("button",{onClick:s[0]||(s[0]=(...y)=>o.onClose&&o.onClose(...y)),class:"p-1 hover:bg-muted rounded transition-colors"},[g(t(It),{class:"w-5 h-5 text-foreground"})])]),l("div",jo,[l("div",Lo,[l("div",null,[s[4]||(s[4]=l("p",{class:"text-xs text-muted-foreground uppercase"},"رقم الطلب",-1)),l("p",Ho," #"+B(o.order.order_id),1)]),l("div",null,[s[5]||(s[5]=l("p",{class:"text-xs text-muted-foreground uppercase"},"الحالة",-1)),l("p",Uo,B(e(o.order.order_status)),1)])]),l("div",Ko,[s[9]||(s[9]=l("h3",{class:"font-semibold text-foreground"},"معلومات العميل",-1)),l("div",Wo,[l("div",null,[s[6]||(s[6]=l("p",{class:"text-xs text-muted-foreground"},"الاسم",-1)),l("p",Go,B(o.order.user_name||"غير معروف"),1)]),l("div",null,[s[7]||(s[7]=l("p",{class:"text-xs text-muted-foreground"},"الهاتف",-1)),l("p",Yo,B(o.order?.user_phone||"غير متوفر"),1)]),l("div",Jo,[s[8]||(s[8]=l("p",{class:"text-xs text-muted-foreground"},"العنوان",-1)),l("p",Xo,B(o.order?.user_address||"غير متوفر"),1)])])]),l("div",Zo,[s[13]||(s[13]=l("h3",{class:"font-semibold text-foreground"},"معلومات المطعم",-1)),l("div",Qo,[l("div",null,[s[10]||(s[10]=l("p",{class:"text-xs text-muted-foreground"},"الاسم",-1)),l("p",er,B(o.order?.restaurant_name||"غير معروف"),1)]),l("div",null,[s[11]||(s[11]=l("p",{class:"text-xs text-muted-foreground"},"المدينة",-1)),l("p",tr,B(o.order?.restaurant_city||"غير متوفر"),1)]),l("div",or,[s[12]||(s[12]=l("p",{class:"text-xs text-muted-foreground"},"العنوان",-1)),l("p",rr,B(o.order?.restaurant_address||"غير متوفر"),1)])])]),o.order.driver_id?(_(),V("div",lr,[s[18]||(s[18]=l("h3",{class:"font-semibold text-foreground"},"معلومات السائق",-1)),l("div",sr,[l("div",null,[s[14]||(s[14]=l("p",{class:"text-xs text-muted-foreground"},"الاسم",-1)),l("p",nr,B(o.order.driver_full_name),1)]),l("div",null,[s[15]||(s[15]=l("p",{class:"text-xs text-muted-foreground"},"الهاتف",-1)),l("p",ar,B(o.order.driver_phone),1)]),l("div",null,[s[16]||(s[16]=l("p",{class:"text-xs text-muted-foreground"},"المركبة",-1)),l("p",ir,B(o.order.driver_type),1)]),l("div",null,[s[17]||(s[17]=l("p",{class:"text-xs text-muted-foreground"},"رقم اللوحة",-1)),l("p",ur,B(o.order.plate_number),1)])])])):(_(),V("div",dr,[...s[19]||(s[19]=[l("p",{class:"text-sm text-orange-700"}," لم يتم تعيين سائق لهذا الطلب بعد ",-1)])])),l("div",pr,[s[23]||(s[23]=l("h3",{class:"font-semibold text-foreground"},"ملخص الطلب",-1)),l("div",cr,[l("div",fr,[s[20]||(s[20]=l("span",{class:"text-muted-foreground"},"إجمالي الطلب:",-1)),l("span",vr,B(o.order.order_total_price)+" ج.م",1)]),l("div",mr,[s[21]||(s[21]=l("span",{class:"text-muted-foreground"},"تكلفة التوصيل:",-1)),l("span",gr,B(o.order.order_delivery_cost)+" ج.م",1)]),l("div",yr,[s[22]||(s[22]=l("span",{class:"text-foreground font-medium"},"الإجمالي الكلي:",-1)),l("span",_r,B(o.order.order_total_price)+" ج.م",1)])])]),o.order.order_notes?(_(),V("div",hr,[s[24]||(s[24]=l("h3",{class:"font-semibold text-foreground mb-2"},"ملاحظات",-1)),l("p",xr,B(o.order.order_notes),1)])):M("",!0),l("div",br," تم إنشاء الطلب في "+B(new Date(o.order.created_at).toLocaleString("ar-EG")),1)]),a.value?(_(),V("div",wr,[g(t(To),{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=y=>u.value=y)},{default:c(()=>[g(t(Vo),{class:"w-[200px]"},{default:c(()=>[g(t(Ro),{placeholder:"اختر سائقًا"})]),_:1}),g(t(Eo),null,{default:c(()=>[(_(!0),V(ae,null,ce(r.value,y=>(_(),P(t(Ao),{key:y.driver_id,value:y.driver_id.toString()},{default:c(()=>[z(B(y.driver_name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),g(t(Q),{onClick:v,disabled:!u.value},{default:c(()=>[...s[25]||(s[25]=[z("حفظ",-1)])]),_:1},8,["disabled"]),g(t(Q),{onClick:s[2]||(s[2]=y=>a.value=!1),variant:"outline"},{default:c(()=>[...s[26]||(s[26]=[z("اغلاق",-1)])]),_:1})])):M("",!0),l("div",Sr,[g(t(Q),{onClick:o.onClose,variant:"outline"},{default:c(()=>[...s[27]||(s[27]=[z("إغلاق",-1)])]),_:1},8,["onClick"]),!a.value&&o.order.order_status!=="delivered"?(_(),P(t(Q),{key:0,onClick:f,disabled:d.value},{default:c(()=>[z(B(d.value?"جارٍ التحميل...":"تعيين سائق"),1)]),_:1},8,["disabled"])):M("",!0)])])])):M("",!0)}}),$r={class:"flex h-screen bg-background"},qr={class:"w-full flex flex-col p-8 space-y-6"},Br={class:"flex flex-col sm:flex-row gap-4"},Pr={class:"flex-1 relative"},kr={class:"flex gap-2"},Ir={class:"bg-card border border-border rounded-lg overflow-hidden"},Tr={class:"overflow-x-auto"},Er={class:"w-full"},Or={key:0},Ar={class:"px-6 py-4 text-sm font-medium text-foreground"},Dr={class:"px-6 py-4 text-sm text-foreground"},zr={class:"px-6 py-4 text-sm text-foreground"},Vr={class:"px-6 py-4 text-sm font-medium text-foreground"},Rr={class:"px-6 py-4 text-sm text-foreground"},Fr={class:"px-6 py-4 text-sm text-foreground"},Mr={class:"px-6 py-4"},Nr={class:"px-6 py-4 text-sm text-muted-foreground"},jr={class:"px-6 py-4 text-right"},Lr={class:"p-1.5 hover:bg-muted rounded transition-colors"},Hr=50,al=k({__name:"OrdersPage",setup(n){const o=x(""),e=x(null),a=x(null),r=x(1),u=x(null),d=x(!1),f=x(0),v=x([]);function m(C,p=500){let i;return(...S)=>{clearTimeout(i),i=window.setTimeout(()=>C(...S),p)}}const s=x([]),y=async()=>{try{const C=new URLSearchParams;C.append("page",r.value.toString()),o.value.trim()!==""&&C.append("search",encodeURIComponent(o.value.trim())),e.value&&C.append("status",e.value),a.value&&C.append("city",a.value);const p=await we.get(`/orders/admin?${C.toString()}`,{});s.value=p.data.orders,f.value=p.data.totalOrders,v.value=p.data.cities.map(i=>i.city_name)}catch(C){console.error("حدث خطأ أثناء جلب البيانات:",C)}};W(()=>{y()});const q=m(y,500),w=C=>{e.value=C,r.value=1,y()},h=C=>{a.value=C,r.value=1,y()},D=C=>{switch(C){case"pending":return"bg-orange-500/10 text-orange-700 hover:bg-orange-500/20";case"assigned":return"bg-blue-500/10 text-blue-700 hover:bg-blue-500/20";case"delivered":return"bg-green-500/10 text-green-700 hover:bg-green-500/20";default:return"bg-gray-500/10 text-gray-700 hover:bg-gray-500/20"}};function E(C){switch(C){case"preparing":return"في التحضير";case"ready":return"جاهز للاستلام";case"picked-up":return"تم الاستلام";case"delivered":return"تم التوصيل";default:return"في التحضير"}}function F(C){u.value=C,d.value=!0}return te(o,()=>{q()}),(C,p)=>(_(),V("div",$r,[g(ht),l("div",qr,[p[20]||(p[20]=l("div",null,[l("h1",{class:"text-3xl font-bold text-foreground"},"الطلبات"),l("p",{class:"text-muted-foreground mt-1"}," إدارة ومتابعة جميع طلبات التوصيل ")],-1)),l("div",Br,[l("div",Pr,[g(t(Tt),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),ut(l("input",{type:"text",placeholder:"ابحث برقم الطلب...","onUpdate:modelValue":p[0]||(p[0]=i=>o.value=i),class:"w-full pl-10 pr-4 py-2 bg-card border border-border rounded-lg text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"},null,512),[[dt,o.value]])]),l("div",kr,[g(t(he),null,{default:c(()=>[g(t(xe),{asChild:""},{default:c(()=>[g(t(Q),{variant:"outline",size:"sm",class:"gap-2 bg-transparent"},{default:c(()=>[g(t(De),{class:"w-4 h-4"}),z(" "+B(a.value?`المدينة: ${a.value}`:"المدينة"),1)]),_:1})]),_:1}),g(t(be),null,{default:c(()=>[g(t(K),{onClick:p[1]||(p[1]=i=>h(null))},{default:c(()=>[...p[10]||(p[10]=[z("كل المدن",-1)])]),_:1}),(_(!0),V(ae,null,ce(v.value,i=>(_(),P(t(K),{key:i,onClick:S=>h(i)},{default:c(()=>[z(B(i),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),g(t(he),null,{default:c(()=>[g(t(xe),{asChild:""},{default:c(()=>[g(t(Q),{variant:"outline",size:"sm",class:"gap-2 bg-transparent"},{default:c(()=>[g(t(De),{class:"w-4 h-4"}),p[11]||(p[11]=z(" الحالة ",-1))]),_:1})]),_:1}),g(t(be),null,{default:c(()=>[g(t(K),{onClick:p[2]||(p[2]=i=>w(null))},{default:c(()=>[...p[12]||(p[12]=[z(" كل الطلبات ",-1)])]),_:1}),g(t(K),{onClick:p[3]||(p[3]=i=>w("pending"))},{default:c(()=>[...p[13]||(p[13]=[z(" قيد الانتظار ",-1)])]),_:1}),g(t(K),{onClick:p[4]||(p[4]=i=>w("ready"))},{default:c(()=>[...p[14]||(p[14]=[z(" جاهز للاستلام ",-1)])]),_:1}),g(t(K),{onClick:p[5]||(p[5]=i=>w("picked-up"))},{default:c(()=>[...p[15]||(p[15]=[z(" تم التعيين ",-1)])]),_:1}),g(t(K),{onClick:p[6]||(p[6]=i=>w("delivered"))},{default:c(()=>[...p[16]||(p[16]=[z(" تم التسليم ",-1)])]),_:1})]),_:1})]),_:1})])]),l("div",Ir,[l("div",Tr,[l("table",Er,[p[19]||(p[19]=l("thead",null,[l("tr",{class:"border-b border-border bg-muted/30"},[l("th",{class:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase"}," رقم الطلب "),l("th",{class:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase"}," العميل "),l("th",{class:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase"}," المطعم "),l("th",{class:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase"}," الإجمالي "),l("th",{class:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase"}," التوصيل "),l("th",{class:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase"}," السائق "),l("th",{class:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase"}," الحالة "),l("th",{class:"px-6 py-4 text-left text-xs font-medium text-muted-foreground uppercase"}," التاريخ "),l("th",{class:"px-6 py-4 text-right text-xs font-medium text-muted-foreground uppercase"}," الإجراءات ")])],-1)),l("tbody",null,[s.value.length===0?(_(),V("tr",Or,[...p[17]||(p[17]=[l("td",{colspan:"9",class:"px-6 py-8 text-center text-muted-foreground"}," لا يوجد طلبات ",-1)])])):M("",!0),(_(!0),V(ae,null,ce(s.value,i=>(_(),V("tr",{key:i.order_id,class:"border-b border-border hover:bg-muted/50 transition-colors"},[l("td",Ar," #"+B(i.order_id),1),l("td",Dr,B(i.user_name),1),l("td",zr,B(i.restaurant_name),1),l("td",Vr," ج.م "+B(i.order_total_price.toFixed(2)),1),l("td",Rr," ج.م "+B(i.order_delivery_cost.toFixed(2)),1),l("td",Fr,B(i.driver_name||"غير مخصص"),1),l("td",Mr,[g(t(pt),{class:Ne(D(i.order_status))},{default:c(()=>[z(B(E(i.order_status)),1)]),_:2},1032,["class"])]),l("td",Nr,B(new Date(i.created_at).toLocaleDateString("ar-EG")),1),l("td",jr,[g(t(he),null,{default:c(()=>[g(t(xe),{asChild:""},{default:c(()=>[l("button",Lr,[g(t(_t),{class:"w-4 h-4 text-muted-foreground"})])]),_:1}),g(t(be),{align:"end"},{default:c(()=>[g(t(K),{onClick:S=>F(i)},{default:c(()=>[g(t(Et),{class:"w-4 h-4 mr-2"}),p[18]||(p[18]=z(" عرض التفاصيل ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])])]),g(yt,{"current-page":r.value,"total-items":f.value,"items-per-page":Hr,"onUpdate:currentPage":p[7]||(p[7]=i=>r.value=i)},null,8,["current-page","total-items"])]),u.value?(_(),P(Cr,{key:0,order:u.value,isOpen:d.value,onClose:p[8]||(p[8]=i=>d.value=!1),onEdit:p[9]||(p[9]=()=>{d.value=!1,y()})},null,8,["order","isOpen"])):M("",!0)])]))}});export{al as default};
