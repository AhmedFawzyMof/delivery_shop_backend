import{d as y,f as u,g as k,e as r,a as C,b as e,p as V,F as M,k as U,t as n,v as o,x as c,j as $,aa as A,o as p,n as N}from"./index-BBpdZ-ZW.js";import{b as m}from"./auth-DapwXxAQ.js";import{_ as j}from"./Sidebar.vue_vue_type_script_setup_true_lang-i1GJ_p_4.js";import"./house-D1IETp4g.js";import"./truck-Br4A5zbu.js";import"./mail-CAswjs2o.js";const B={class:"flex h-screen bg-background"},E={class:"w-full flex flex-col p-6"},D={class:"overflow-auto rounded border"},F={class:"w-full text-left"},T={class:"p-3"},z={class:"p-3"},L={class:"p-3"},P={class:"p-3"},S={class:"p-3"},q={class:"p-3"},G={class:"p-3 flex gap-2"},H=["onClick"],I=["onClick"],J={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center"},K={class:"bg-white rounded shadow p-6 w-96"},O={class:"text-xl font-semibold mb-4"},Q={class:"flex flex-col gap-3"},R={class:"flex items-center gap-2"},ae=y({__name:"EmployeesPage",setup(W){const v=u([]),d=u(!1),i=u(!1),a=u({admin_id:null,admin_name:"",admin_email:"",admin_phone:"",password:"",is_active:!0});async function _(){const l=await m.get("/admins");console.log(l),v.value=await l.data}function b(){i.value=!1,a.value={admin_id:null,admin_name:"",admin_email:"",admin_phone:"",password:"",is_active:!0},d.value=!0}function h(l){i.value=!0,a.value={...l},d.value=!0}async function x(){i.value?await m.put(`/admins/${a.value.admin_id}`,{...a.value}):await m.post("/admins",{...a.value}),f(),_()}async function g(l){await m.delete(`/admins/${l}`),_()}function f(){d.value=!1}return k(_),(l,t)=>(p(),r("div",B,[C(j),e("div",E,[t[7]||(t[7]=e("h1",{class:"text-2xl font-bold mb-4"},"المديرين",-1)),e("button",{class:"bg-blue-600 text-white px-4 py-2 rounded mb-4",onClick:b}," إضافة مدير "),e("div",D,[e("table",F,[t[5]||(t[5]=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"p-3"},"رقم"),e("th",{class:"p-3"},"الاسم"),e("th",{class:"p-3"},"البريد الإلكتروني"),e("th",{class:"p-3"},"رقم الهاتف"),e("th",{class:"p-3"},"الحالة"),e("th",{class:"p-3"},"تاريخ الإنشاء"),e("th",{class:"p-3"},"الإجراءات")])],-1)),e("tbody",null,[(p(!0),r(M,null,U(v.value,s=>(p(),r("tr",{key:s.admin_id,class:"border-b"},[e("td",T,n(s.admin_id),1),e("td",z,n(s.admin_name),1),e("td",L,n(s.admin_email),1),e("td",P,n(s.admin_phone),1),e("td",S,[e("span",{class:N(["px-2 py-1 rounded text-white",s.is_active?"bg-green-600":"bg-red-600"])},n(s.is_active?"نشط":"غير نشط"),3)]),e("td",q,n(s.created_at),1),e("td",G,[e("button",{class:"px-3 py-1 bg-yellow-500 text-white rounded",onClick:w=>h(s)}," تعديل ",8,H),e("button",{class:"px-3 py-1 bg-red-600 text-white rounded",onClick:w=>g(s.admin_id)}," حذف ",8,I)])]))),128))])])]),d.value?(p(),r("div",J,[e("div",K,[e("h2",O,n(i.value?"تعديل مدير":"إنشاء مدير"),1),e("div",Q,[o(e("input",{class:"border p-2 rounded","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.admin_name=s),placeholder:"الاسم"},null,512),[[c,a.value.admin_name]]),o(e("input",{class:"border p-2 rounded","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.admin_email=s),placeholder:"البريد الإلكتروني"},null,512),[[c,a.value.admin_email]]),o(e("input",{class:"border p-2 rounded","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.admin_phone=s),placeholder:"رقم الهاتف"},null,512),[[c,a.value.admin_phone]]),o(e("input",{class:"border p-2 rounded","onUpdate:modelValue":t[3]||(t[3]=s=>a.value.password=s),placeholder:"كلمة المرور"},null,512),[[c,a.value.password]]),e("label",R,[o(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=s=>a.value.is_active=s)},null,512),[[A,a.value.is_active]]),t[6]||(t[6]=$(" نشط ",-1))])]),e("div",{class:"flex justify-end gap-3 mt-5"},[e("button",{class:"px-4 py-2 rounded bg-gray-300",onClick:f}," إلغاء "),e("button",{class:"px-4 py-2 rounded bg-blue-600 text-white",onClick:x}," حفظ ")])])])):V("",!0)])]))}});export{ae as default};
