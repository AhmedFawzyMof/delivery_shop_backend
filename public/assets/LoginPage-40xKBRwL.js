import{d as x,f as r,g as V,h as b,i as h,e as p,a as s,w as t,u as a,o as n,k as i,b as d,q as $,c as k,t as L,v as B}from"./index-DCDlsYIf.js";import{_ as N}from"./createLucideIcon-eA1--_Lg.js";import{_ as q,a as C,b as S,c as A}from"./CardTitle.vue_vue_type_script_setup_true_lang-CarhXZyr.js";import{_ as M}from"./CardDescription.vue_vue_type_script_setup_true_lang-CJtnW0R1.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-CqSkae_v.js";import{_ as y}from"./Label.vue_vue_type_script_setup_true_lang-CmzQ58Bn.js";import{L as U}from"./loader-B6d2GHBM.js";import"./index-CY8SJFk2.js";const j={dir:"rtl",class:"flex min-h-screen items-center justify-center bg-muted p-4"},D={class:"grid gap-2"},E={class:"grid gap-2"},P={class:"flex items-center"},R={key:1},T={key:0,class:"text-red-500 mt-2"},W=x({__name:"LoginPage",setup(z){const u=r(""),m=r(""),o=r(!1),l=r(""),f=V(),c=h();b(async()=>{await f.init(),f.isAuthenticated&&c.push("/restaurant/dashboard")});async function w(){o.value=!0,l.value="";try{await f.login(u.value,m.value),c.push("/restaurant/dashboard")}catch(v){l.value=v.response?.data?.message||"Login failed"}finally{o.value=!1}}return(v,e)=>(n(),p("main",j,[s(a(q),{class:"w-86"},{default:t(()=>[s(a(C),null,{default:t(()=>[s(a(S),{class:"text-2xl"},{default:t(()=>[...e[2]||(e[2]=[i(" تسجيل الدخول ",-1)])]),_:1}),s(a(M),null,{default:t(()=>[...e[3]||(e[3]=[i(" أدخل اسم المطعمك أدناه لتسجيل الدخول إلى حسابك ",-1)])]),_:1})]),_:1}),s(a(A),null,{default:t(()=>[d("form",{class:"grid gap-4",onSubmit:B(w,["prevent"])},[d("div",D,[s(a(y),{for:"name"},{default:t(()=>[...e[4]||(e[4]=[i("اسم المطعم",-1)])]),_:1}),s(a(g),{id:"name",type:"text",placeholder:"اسم المطعم",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=_=>u.value=_),required:""},null,8,["modelValue"])]),d("div",E,[d("div",P,[s(a(y),{for:"password"},{default:t(()=>[...e[5]||(e[5]=[i("كلمة المرور",-1)])]),_:1})]),s(a(g),{id:"password",type:"password",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=_=>m.value=_),required:""},null,8,["modelValue"])]),s(a(N),{type:"submit",class:"w-full",disabled:o.value},{default:t(()=>[o.value?(n(),k(a(U),{key:0,class:"animate-spin"})):(n(),p("span",R,"تسجيل الدخول"))]),_:1},8,["disabled"]),l.value?(n(),p("p",T,L(l.value),1)):$("",!0)],32)]),_:1})]),_:1})]))}});export{W as default};
