import{b as u}from"./auth-BOWgCVVb.js";import{_ as b}from"./Sidebar.vue_vue_type_script_setup_true_lang-CIwOqECK.js";import{d as x,f as i,g as v,e as l,a as w,b as t,p as y,F as k,k as C,t as e,j as _,o as c}from"./index-d-g9mRbR.js";import"./house-DvnnnsCD.js";import"./truck-J7k0Gy93.js";import"./mail-BeP-FzBI.js";const M={class:"flex h-screen bg-background"},N={class:"w-full flex flex-col p-6"},V={class:"overflow-auto rounded border"},$={class:"w-full text-left"},j={class:"p-3"},B={class:"p-3"},D={class:"p-3"},F={class:"p-3 truncate max-w-[200px]"},E={class:"p-3"},L={class:"p-3 flex gap-3"},P=["onClick"],S=["onClick"],T={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center"},q={class:"bg-white w-96 p-6 rounded shadow"},z={class:"text-xl font-semibold mb-3"},A={class:"flex flex-col gap-3"},G={class:"border p-3 rounded bg-gray-50 whitespace-pre-wrap"},H={class:"text-sm text-gray-600"},W=x({__name:"MessagesPage",setup(I){const r=i([]),d=i(!1),n=i({});async function p(){const a=await u.get("/contacts");r.value=await a.data.data}function f(a){n.value=a,d.value=!0}async function m(a){await u.delete(`/contacts/${a}`),p()}function h(){d.value=!1}return v(p),(a,s)=>(c(),l("div",M,[w(b),t("div",N,[s[4]||(s[4]=t("h1",{class:"text-2xl font-bold mb-4"},"رسائل التواصل",-1)),t("div",V,[t("table",$,[s[0]||(s[0]=t("thead",null,[t("tr",{class:"bg-gray-100"},[t("th",{class:"p-3"},"رقم"),t("th",{class:"p-3"},"الاسم"),t("th",{class:"p-3"},"رقم الهاتف"),t("th",{class:"p-3"},"الرسالة"),t("th",{class:"p-3"},"تاريخ الإنشاء"),t("th",{class:"p-3"},"الإجراءات")])],-1)),t("tbody",null,[(c(!0),l(k,null,C(r.value,o=>(c(),l("tr",{key:o.contact_id,class:"border-b"},[t("td",j,e(o.contact_id),1),t("td",B,e(o.contact_name),1),t("td",D,e(o.contact_phone),1),t("td",F,e(o.contact_message),1),t("td",E,e(o.created_at),1),t("td",L,[t("button",{class:"px-3 py-1 bg-blue-600 text-white rounded",onClick:g=>f(o)}," عرض ",8,P),t("button",{class:"px-3 py-1 bg-red-600 text-white rounded",onClick:g=>m(o.contact_id)}," حذف ",8,S)])]))),128))])])]),d.value?(c(),l("div",T,[t("div",q,[t("h2",z," رسالة من: "+e(n.value.contact_name),1),t("div",A,[t("p",null,[s[1]||(s[1]=t("strong",null,"رقم الهاتف:",-1)),_(" "+e(n.value.contact_phone),1)]),s[3]||(s[3]=t("p",null,[t("strong",null,"الرسالة:")],-1)),t("p",G,e(n.value.contact_message),1),t("p",H,[s[2]||(s[2]=t("strong",null,"تاريخ الإنشاء:",-1)),_(" "+e(n.value.created_at),1)])]),t("div",{class:"flex justify-end mt-4"},[t("button",{class:"px-4 py-2 bg-gray-300 rounded",onClick:h}," إغلاق ")])])])):y("",!0)])]))}});export{W as default};
