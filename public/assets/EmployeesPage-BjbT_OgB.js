import{d as M,r as v,o as E,c as k,b as a,a as f,w as n,e,v as $,f as w,i as d,F as N,j,k as F,t as i,n as z}from"./index-DjU-SR4D.js";import{_ as D}from"./Sidebar.vue_vue_type_script_setup_true_lang-sgM1v4lD.js";import{_ as L,d as P,a as S,b as T,c as q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-EkRkIsRG.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-DATigwLm.js";import{_}from"./createLucideIcon-CpkhF4YH.js";import{_ as G}from"./Checkbox.vue_vue_type_script_setup_true_lang-C7j3AK5n.js";import{_ as H,a as I,b as C,c as o,d as J,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-BaGKKXOv.js";import"./x-CN-yFgvQ.js";import"./index-OT-Qnd2y.js";import"./Teleport-B12evmlH.js";import"./truck-CcAql6eW.js";import"./SheetTrigger.vue_vue_type_script_setup_true_lang-czE_r7b2.js";import"./check-CB_O76uP.js";import"./Collection-4N3OwyZ6.js";import"./RovingFocusGroup-CMxlSFcM.js";const K={class:"flex h-screen bg-background"},O={class:"w-full flex flex-col p-6"},Q={class:"overflow-auto rounded border"},R={class:"flex flex-col gap-4 mt-4"},W={class:"flex items-center gap-2"},rl=M({__name:"EmployeesPage",setup(X){const g=v([]),r=v(!1),p=v(!1),s=v({admin_id:null,admin_name:"",admin_email:"",admin_phone:"",password:"",is_active:!0});async function x(){const m=await $.get("/admins");g.value=await m.data}function c(){p.value=!1,s.value={admin_id:null,admin_name:"",admin_email:"",admin_phone:"",password:"",is_active:!0},r.value=!0}function y(m){p.value=!0,s.value={...m},r.value=!0}async function U(){p.value?await $.put(`/admins/${s.value.admin_id}`,{...s.value}):await $.post("/admins",{...s.value}),b(),x()}async function A(m){await $.delete(`/admins/${m}`),x()}function b(){r.value=!1}return E(x),(m,l)=>(w(),k("div",K,[a(D),f("div",O,[l[19]||(l[19]=f("h1",{class:"text-2xl font-bold mb-4"},"المديرين",-1)),a(e(_),{class:"mb-4",onClick:c},{default:n(()=>[...l[6]||(l[6]=[d("إضافة مدير",-1)])]),_:1}),f("div",Q,[a(e(H),{class:"w-full text-left"},{default:n(()=>[a(e(I),null,{default:n(()=>[a(e(C),null,{default:n(()=>[a(e(o),null,{default:n(()=>[...l[7]||(l[7]=[d("رقم",-1)])]),_:1}),a(e(o),null,{default:n(()=>[...l[8]||(l[8]=[d("الاسم",-1)])]),_:1}),a(e(o),null,{default:n(()=>[...l[9]||(l[9]=[d("البريد الإلكتروني",-1)])]),_:1}),a(e(o),null,{default:n(()=>[...l[10]||(l[10]=[d("رقم الهاتف",-1)])]),_:1}),a(e(o),null,{default:n(()=>[...l[11]||(l[11]=[d("الحالة",-1)])]),_:1}),a(e(o),null,{default:n(()=>[...l[12]||(l[12]=[d("تاريخ الإنشاء",-1)])]),_:1}),a(e(o),null,{default:n(()=>[...l[13]||(l[13]=[d("الإجراءات",-1)])]),_:1})]),_:1})]),_:1}),a(e(J),null,{default:n(()=>[(w(!0),k(N,null,j(g.value,t=>(w(),F(e(C),{key:t.admin_id},{default:n(()=>[a(e(u),null,{default:n(()=>[d(i(t.admin_id),1)]),_:2},1024),a(e(u),null,{default:n(()=>[d(i(t.admin_name),1)]),_:2},1024),a(e(u),null,{default:n(()=>[d(i(t.admin_email),1)]),_:2},1024),a(e(u),null,{default:n(()=>[d(i(t.admin_phone),1)]),_:2},1024),a(e(u),null,{default:n(()=>[f("span",{class:z(["px-2 py-1 rounded text-white",t.is_active?"bg-green-600":"bg-red-600"])},i(t.is_active?"نشط":"غير نشط"),3)]),_:2},1024),a(e(u),null,{default:n(()=>[d(i(t.created_at),1)]),_:2},1024),a(e(u),{class:"flex gap-2"},{default:n(()=>[a(e(_),{variant:"secondary",onClick:B=>y(t)},{default:n(()=>[...l[14]||(l[14]=[d(" تعديل ",-1)])]),_:1},8,["onClick"]),a(e(_),{variant:"destructive",onClick:B=>A(t.admin_id)},{default:n(()=>[...l[15]||(l[15]=[d(" حذف ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a(e(L),{open:r.value,"onUpdate:open":l[5]||(l[5]=t=>r.value=t)},{default:n(()=>[a(e(P),null,{default:n(()=>[a(e(S),null,{default:n(()=>[a(e(T),null,{default:n(()=>[d(i(p.value?"تعديل مدير":"إنشاء مدير"),1)]),_:1})]),_:1}),f("div",R,[a(e(V),{modelValue:s.value.admin_name,"onUpdate:modelValue":l[0]||(l[0]=t=>s.value.admin_name=t),placeholder:"الاسم"},null,8,["modelValue"]),a(e(V),{modelValue:s.value.admin_email,"onUpdate:modelValue":l[1]||(l[1]=t=>s.value.admin_email=t),placeholder:"البريد الإلكتروني"},null,8,["modelValue"]),a(e(V),{modelValue:s.value.admin_phone,"onUpdate:modelValue":l[2]||(l[2]=t=>s.value.admin_phone=t),placeholder:"رقم الهاتف"},null,8,["modelValue"]),a(e(V),{modelValue:s.value.password,"onUpdate:modelValue":l[3]||(l[3]=t=>s.value.password=t),placeholder:"كلمة المرور"},null,8,["modelValue"]),f("label",W,[a(e(G),{modelValue:s.value.is_active,"onUpdate:modelValue":l[4]||(l[4]=t=>s.value.is_active=t)},null,8,["modelValue"]),l[16]||(l[16]=d(" نشط ",-1))])]),a(e(q),{class:"mt-6 flex justify-end gap-3"},{default:n(()=>[a(e(_),{variant:"outline",onClick:b},{default:n(()=>[...l[17]||(l[17]=[d("إلغاء",-1)])]),_:1}),a(e(_),{onClick:U},{default:n(()=>[...l[18]||(l[18]=[d("حفظ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]))}});export{rl as default};
